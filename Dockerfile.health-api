FROM python:3.10-slim

WORKDIR /app

RUN pip install fastapi uvicorn psutil

# Copy the compatibility script and the monitoring directory
COPY health_api.py /app/
COPY monitoring/ /app/monitoring/

EXPOSE 8000

CMD ["python", "health_api.py"]