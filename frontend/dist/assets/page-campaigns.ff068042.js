import{e,b as a,f as t,c as i,u as n,i as s,g as r,r as l,a as o,j as c,E as d}from"./vendor-react.862bc4d9.js";import{a as h}from"./page-brands.b39b5443.js";import{b as m,G as x,A as u}from"./page-analytics.7c777a5d.js";import{T as p,B as g,a as j,aP as v,aM as y,e as b,aE as f,aU as C,l as S,aV as k,F as w,I as A,S as I,M as T,f as R,aR as D,G as B,g as L,i as P,X as z,D as F,aW as $,bu as E,b5 as M,bv as W,P as q,bw as O,J as Q,a6 as K,bx as _,A as V,by as N,a1 as Z,bz as U,E as G,bA as Y,bB as H,j as J,k as X,bC as ee,aH as ae,p as te,q as ie,r as ne,s as se,t as re,v as le,K as oe,L as ce,u as de,bD as he,bE as me,bF as xe,bG as ue,ap as pe,aq as ge,bH as je,bI as ve,bJ as ye,bK as be,bL as fe,bM as Ce,bN as Se,bO as ke,bP as we,ao as Ae,y as Ie,z as Te,ac as Re,a_ as De,a$ as Be,ah as Le,bQ as Pe,bR as ze,bS as Fe,Y as $e,ae as Ee,Z as Me,af as We,V as qe,bT as Oe,bU as Qe,bV as Ke,bW as _e,W as Ve,aO as Ne,a3 as Ze,ag as Ue,bX as Ge,R as Ye,bY as He,bZ as Je,b_ as Xe,b$ as ea,c0 as aa,av as ta,c1 as ia,ay as na,at as sa,as as ra,c2 as la,c3 as oa,c4 as ca,c5 as da,c6 as ha,ax as ma,c7 as xa,ar as ua}from"./vendor-mui.1e5c58eb.js";import{R as pa,B as ga,C as ja,X as va,Y as ya,T as ba,a as fa,e as Ca,b as Sa,d as ka,P as wa,c as Aa,S as Ia,Z as Ta,j as Ra}from"./vendor-charts.6105f747.js";const Da=[{id:"1",name:"Summer Collection Launch",description:"Promotion for our new summer apparel line",status:"active",startDate:"2025-04-01T00:00:00Z",endDate:"2025-06-30T00:00:00Z",budget:5e3,platform:"facebook",brandId:"2",kpis:{impressions:5e4,clicks:2500,conversions:120,costPerClick:1.25,costPerConversion:26.04,roi:2.8},createdAt:"2025-03-15T00:00:00Z",updatedAt:"2025-03-15T00:00:00Z"},{id:"2",name:"Q2 Lead Generation",description:"B2B lead generation campaign targeting CTOs",status:"draft",startDate:"2025-04-15T00:00:00Z",budget:7500,platform:"linkedin",brandId:"1",createdAt:"2025-03-10T00:00:00Z",updatedAt:"2025-03-10T00:00:00Z"},{id:"3",name:"Product Launch: Home Fitness",description:"Campaign for new home fitness product line",status:"active",startDate:"2025-03-01T00:00:00Z",endDate:"2025-05-31T00:00:00Z",budget:12e3,platform:"google,instagram",brandId:"3",kpis:{impressions:12e4,clicks:8500,conversions:320,costPerClick:.95,costPerConversion:25.21,roi:3.5},createdAt:"2025-02-15T00:00:00Z",updatedAt:"2025-03-05T00:00:00Z"},{id:"4",name:"Interior Design Spring Showcase",description:"Showcase of spring collection for interior design",status:"paused",startDate:"2025-03-10T00:00:00Z",endDate:"2025-04-10T00:00:00Z",budget:3e3,platform:"instagram,pinterest",brandId:"4",kpis:{impressions:35e3,clicks:2100,conversions:45,costPerClick:1.05,costPerConversion:49,roi:1.8},createdAt:"2025-02-28T00:00:00Z",updatedAt:"2025-03-15T00:00:00Z"}],Ba={1:[{campaignId:"1",views:15e3,clicks:750,conversions:35,cost:937.5,revenue:2625,roi:2.8,ctr:5,cpc:1.25,date:"2025-04-01T00:00:00Z",platformData:{platform:"facebook"}}],3:[{campaignId:"3",views:4e4,clicks:2800,conversions:105,cost:2660,revenue:9310,roi:3.5,ctr:7,cpc:.95,date:"2025-03-01T00:00:00Z",platformData:{platform:"google,instagram"}}],4:[{campaignId:"4",views:35e3,clicks:2100,conversions:45,cost:2205,revenue:3969,roi:1.8,ctr:6,cpc:1.05,date:"2025-03-10T00:00:00Z",platformData:{platform:"instagram,pinterest"}}]};const La=new class{async getCampaigns(e={}){try{return await m.get("/campaigns",e)}catch(a){let t=[...Da];if(e.brandId&&(t=t.filter((a=>a.brandId===e.brandId))),e.status&&(t=t.filter((a=>a.status===e.status))),e.platform&&(t=t.filter((a=>{var t;return null==(t=a.platform)?void 0:t.includes(e.platform)}))),e.searchQuery){const a=e.searchQuery.toLowerCase();t=t.filter((e=>e.name.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)))}return Promise.resolve(t)}}async getCampaignById(e){try{return await m.get(`/campaigns/${e}`)}catch(a){const t=Da.find((a=>a.id===e));if(!t)throw new Error(`Campaign with ID ${e} not found`);return Promise.resolve({...t})}}async createCampaign(e){return m.post("/campaigns",e)}async updateCampaign(e,a){return m.put(`/campaigns/${e}`,a)}async deleteCampaign(e){return m.delete(`/campaigns/${e}`)}async updateCampaignStatus(e,a){return m.patch(`/campaigns/${e}/status`,{status:a})}async getCampaignMetrics(e,a){try{return await m.get(`/campaigns/${e}/metrics`,a)}catch(t){const a=Ba[e]||[];return Promise.resolve([...a])}}async getAdSets(e){return m.get(`/campaigns/${e}/adsets`)}async getAdSetById(e,a){return m.get(`/campaigns/${e}/adsets/${a}`)}async createAdSet(e,a){return m.post(`/campaigns/${e}/adsets`,a)}async updateAdSet(e,a,t){return m.put(`/campaigns/${e}/adsets/${a}`,t)}async deleteAdSet(e,a){return m.delete(`/campaigns/${e}/adsets/${a}`)}async getAds(e,a){return m.get(`/campaigns/${e}/adsets/${a}/ads`)}async getAdById(e,a,t){return m.get(`/campaigns/${e}/adsets/${a}/ads/${t}`)}async createAd(e,a,t){return m.post(`/campaigns/${e}/adsets/${a}/ads`,t)}async updateAd(e,a,t,i){return m.put(`/campaigns/${e}/adsets/${a}/ads/${t}`,i)}async deleteAd(e,a,t){return m.delete(`/campaigns/${e}/adsets/${a}/ads/${t}`)}},Pa={all:["campaigns"],lists:()=>[...Pa.all,"list"],list:(e={})=>[...Pa.lists(),e],details:()=>[...Pa.all,"detail"],detail:e=>[...Pa.details(),e],metrics:e=>[...Pa.detail(e),"metrics"],adSets:e=>[...Pa.detail(e),"adSets"],adSet:(e,a)=>[...Pa.adSets(e),a],ads:(e,a)=>[...Pa.adSet(e,a),"ads"],ad:(e,a,t)=>[...Pa.ads(e,a),t]},za=[{value:"",label:"All Statuses"},{value:"draft",label:"Draft"},{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}],Fa=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const m=n(),u=s(),q=r(),[O,Q]=l.useState(""),[K,_]=l.useState({}),[V,N]=l.useState(!1),{selectedBrand:Z}=o((e=>e.brands));l.useEffect((()=>{Z&&_((e=>({...e,brandId:Z.id})))}),[u,q,Z]);const{getCampaignsList:U}=(()=>{const n=e(),s=a();return{getCampaignsList:(e={})=>i({queryKey:Pa.list(e),queryFn:()=>La.getCampaigns(e),keepPreviousData:!0}),getCampaignById:e=>i({queryKey:Pa.detail(e),queryFn:()=>La.getCampaignById(e),enabled:!!e}),createCampaign:t({mutationFn:e=>La.createCampaign(e),onSuccess:e=>{s.invalidateQueries({queryKey:Pa.lists()}),n(h({type:"success",title:"Campaign Created",message:`"${e.name}" has been created successfully`}))},onError:e=>{n(h({type:"error",title:"Failed to Create Campaign",message:e.message}))}}),updateCampaign:t({mutationFn:e=>La.updateCampaign(e.id,e),onMutate:async e=>{await s.cancelQueries({queryKey:Pa.detail(e.id)}),await s.cancelQueries({queryKey:Pa.lists()});const a=s.getQueryData(Pa.detail(e.id));return a&&s.setQueryData(Pa.detail(e.id),{...a,...e}),s.getQueriesData({queryKey:Pa.lists()}).forEach((([a,t])=>{t&&s.setQueryData(a,t.map((a=>a.id===e.id?{...a,...e}:a)))})),{previousCampaign:a}},onSuccess:e=>{s.invalidateQueries({queryKey:Pa.detail(e.id)}),s.invalidateQueries({queryKey:Pa.lists()}),n(h({type:"success",title:"Campaign Updated",message:`"${e.name}" has been updated successfully`}))},onError:(e,a,t)=>{(null==t?void 0:t.previousCampaign)&&(s.setQueryData(Pa.detail(a.id),t.previousCampaign),s.getQueriesData({queryKey:Pa.lists()}).forEach((([e,i])=>{i&&s.setQueryData(e,i.map((e=>e.id===a.id?t.previousCampaign:e)))}))),n(h({type:"error",title:"Failed to Update Campaign",message:e.message}))}}),deleteCampaign:t({mutationFn:e=>La.deleteCampaign(e),onMutate:async e=>{await s.cancelQueries({queryKey:Pa.detail(e)}),await s.cancelQueries({queryKey:Pa.lists()});const a=s.getQueryData(Pa.detail(e));return s.setQueryData(Pa.detail(e),null),s.getQueriesData({queryKey:Pa.lists()}).forEach((([a,t])=>{t&&s.setQueryData(a,t.filter((a=>a.id!==e)))})),{previousCampaign:a}},onSuccess:(e,a)=>{var t;const i=(null==(t=s.getQueryData(Pa.detail(a)))?void 0:t.name)||"Campaign";n(h({type:"success",title:"Campaign Deleted",message:`"${i}" has been deleted`}))},onError:(e,a,t)=>{(null==t?void 0:t.previousCampaign)&&(s.setQueryData(Pa.detail(a),t.previousCampaign),s.getQueriesData({queryKey:Pa.lists()}).forEach((([e,a])=>{a&&s.setQueryData(e,[...a,t.previousCampaign])}))),n(h({type:"error",title:"Failed to Delete Campaign",message:e.message}))}}),updateCampaignStatus:t({mutationFn:({id:e,status:a})=>La.updateCampaignStatus(e,a),onMutate:async({id:e,status:a})=>{await s.cancelQueries({queryKey:Pa.detail(e)}),await s.cancelQueries({queryKey:Pa.lists()});const t=s.getQueryData(Pa.detail(e));return t&&s.setQueryData(Pa.detail(e),{...t,status:a}),s.getQueriesData({queryKey:Pa.lists()}).forEach((([t,i])=>{i&&s.setQueryData(t,i.map((t=>t.id===e?{...t,status:a}:t)))})),{previousCampaign:t}},onSuccess:e=>{s.invalidateQueries({queryKey:Pa.detail(e.id)}),s.invalidateQueries({queryKey:Pa.lists()}),n(h({type:"success",title:"Campaign Status Updated",message:`"${e.name}" is now ${{draft:"Draft",active:"Active",paused:"Paused",completed:"Completed"}[e.status].toLowerCase()}`}))},onError:(e,a,t)=>{(null==t?void 0:t.previousCampaign)&&(s.setQueryData(Pa.detail(a.id),t.previousCampaign),s.getQueriesData({queryKey:Pa.lists()}).forEach((([e,i])=>{i&&s.setQueryData(e,i.map((e=>e.id===a.id?t.previousCampaign:e)))}))),n(h({type:"error",title:"Failed to Update Status",message:e.message}))}}),getCampaignMetrics:(e,a)=>i({queryKey:Pa.metrics(e),queryFn:()=>La.getCampaignMetrics(e,a),enabled:!!e}),getAdSets:e=>i({queryKey:Pa.adSets(e),queryFn:()=>La.getAdSets(e),enabled:!!e}),getAdSetById:(e,a)=>i({queryKey:Pa.adSet(e,a),queryFn:()=>La.getAdSetById(e,a),enabled:!!e&&!!a}),createAdSet:t({mutationFn:({campaignId:e,adSetData:a})=>La.createAdSet(e,a),onSuccess:(e,{campaignId:a})=>{s.invalidateQueries({queryKey:Pa.adSets(a)}),n(h({type:"success",title:"Ad Set Created",message:`"${e.name}" has been created successfully`}))},onError:e=>{n(h({type:"error",title:"Failed to Create Ad Set",message:e.message}))}}),updateAdSet:t({mutationFn:({campaignId:e,adSetId:a,adSetData:t})=>La.updateAdSet(e,a,t),onMutate:async({campaignId:e,adSetId:a,adSetData:t})=>{await s.cancelQueries({queryKey:Pa.adSet(e,a)}),await s.cancelQueries({queryKey:Pa.adSets(e)});const i=s.getQueryData(Pa.adSet(e,a));i&&s.setQueryData(Pa.adSet(e,a),{...i,...t});const n=s.getQueryData(Pa.adSets(e));return n&&s.setQueryData(Pa.adSets(e),n.map((e=>e.id===a?{...e,...t}:e))),{previousAdSet:i}},onSuccess:(e,{campaignId:a})=>{s.invalidateQueries({queryKey:Pa.adSets(a)}),n(h({type:"success",title:"Ad Set Updated",message:`"${e.name}" has been updated successfully`}))},onError:(e,{campaignId:a,adSetId:t},i)=>{if(null==i?void 0:i.previousAdSet){s.setQueryData(Pa.adSet(a,t),i.previousAdSet);const e=s.getQueryData(Pa.adSets(a));e&&s.setQueryData(Pa.adSets(a),e.map((e=>e.id===t?i.previousAdSet:e)))}n(h({type:"error",title:"Failed to Update Ad Set",message:e.message}))}}),deleteAdSet:t({mutationFn:({campaignId:e,adSetId:a})=>La.deleteAdSet(e,a),onMutate:async({campaignId:e,adSetId:a})=>{await s.cancelQueries({queryKey:Pa.adSet(e,a)}),await s.cancelQueries({queryKey:Pa.adSets(e)});const t=s.getQueryData(Pa.adSet(e,a));s.setQueryData(Pa.adSet(e,a),null);const i=s.getQueryData(Pa.adSets(e));return i&&s.setQueryData(Pa.adSets(e),i.filter((e=>e.id!==a))),{previousAdSet:t}},onSuccess:(e,{campaignId:a,adSetId:t})=>{var i;const r=(null==(i=s.getQueryData(Pa.adSet(a,t)))?void 0:i.name)||"Ad Set";n(h({type:"success",title:"Ad Set Deleted",message:`"${r}" has been deleted`}))},onError:(e,{campaignId:a,adSetId:t},i)=>{if(null==i?void 0:i.previousAdSet){s.setQueryData(Pa.adSet(a,t),i.previousAdSet);const e=s.getQueryData(Pa.adSets(a));e&&s.setQueryData(Pa.adSets(a),[...e,i.previousAdSet])}n(h({type:"error",title:"Failed to Delete Ad Set",message:e.message}))}}),getAds:(e,a)=>i({queryKey:Pa.ads(e,a),queryFn:()=>La.getAds(e,a),enabled:!!e&&!!a}),getAdById:(e,a,t)=>i({queryKey:Pa.ad(e,a,t),queryFn:()=>La.getAdById(e,a,t),enabled:!!e&&!!a&&!!t}),createAd:t({mutationFn:({campaignId:e,adSetId:a,adData:t})=>La.createAd(e,a,t),onSuccess:(e,{campaignId:a,adSetId:t})=>{s.invalidateQueries({queryKey:Pa.ads(a,t)}),s.invalidateQueries({queryKey:Pa.adSet(a,t)}),n(h({type:"success",title:"Ad Created",message:`"${e.name}" has been created successfully`}))},onError:e=>{n(h({type:"error",title:"Failed to Create Ad",message:e.message}))}}),updateAd:t({mutationFn:({campaignId:e,adSetId:a,adId:t,adData:i})=>La.updateAd(e,a,t,i),onMutate:async({campaignId:e,adSetId:a,adId:t,adData:i})=>{await s.cancelQueries({queryKey:Pa.ad(e,a,t)}),await s.cancelQueries({queryKey:Pa.ads(e,a)});const n=s.getQueryData(Pa.ad(e,a,t));n&&s.setQueryData(Pa.ad(e,a,t),{...n,...i});const r=s.getQueryData(Pa.ads(e,a));return r&&s.setQueryData(Pa.ads(e,a),r.map((e=>e.id===t?{...e,...i}:e))),{previousAd:n}},onSuccess:(e,{campaignId:a,adSetId:t})=>{s.invalidateQueries({queryKey:Pa.ads(a,t)}),n(h({type:"success",title:"Ad Updated",message:`"${e.name}" has been updated successfully`}))},onError:(e,{campaignId:a,adSetId:t,adId:i},r)=>{if(null==r?void 0:r.previousAd){s.setQueryData(Pa.ad(a,t,i),r.previousAd);const e=s.getQueryData(Pa.ads(a,t));e&&s.setQueryData(Pa.ads(a,t),e.map((e=>e.id===i?r.previousAd:e)))}n(h({type:"error",title:"Failed to Update Ad",message:e.message}))}}),deleteAd:t({mutationFn:({campaignId:e,adSetId:a,adId:t})=>La.deleteAd(e,a,t),onMutate:async({campaignId:e,adSetId:a,adId:t})=>{await s.cancelQueries({queryKey:Pa.ad(e,a,t)}),await s.cancelQueries({queryKey:Pa.ads(e,a)});const i=s.getQueryData(Pa.ad(e,a,t));s.setQueryData(Pa.ad(e,a,t),null);const n=s.getQueryData(Pa.ads(e,a));return n&&s.setQueryData(Pa.ads(e,a),n.filter((e=>e.id!==t))),{previousAd:i}},onSuccess:(e,{campaignId:a,adSetId:t,adId:i})=>{var r;const l=(null==(r=s.getQueryData(Pa.ad(a,t,i)))?void 0:r.name)||"Ad";n(h({type:"success",title:"Ad Deleted",message:`"${l}" has been deleted`}))},onError:(e,{campaignId:a,adSetId:t,adId:i},r)=>{if(null==r?void 0:r.previousAd){s.setQueryData(Pa.ad(a,t,i),r.previousAd);const e=s.getQueryData(Pa.ads(a,t));e&&s.setQueryData(Pa.ads(a,t),[...e,r.previousAd])}n(h({type:"error",title:"Failed to Delete Ad",message:e.message}))}})}})(),{data:G,isLoading:Y,error:H}=U(K),J=l.useMemo((()=>G?O?G.filter((e=>e.name.toLowerCase().includes(O.toLowerCase())||e.description.toLowerCase().includes(O.toLowerCase()))):G:[]),[G,O]),X=e=>e?new Date(e).toLocaleDateString():"N/A";return H?c.jsxs(p,{color:"error",children:["Error loading campaigns: ",H.message]}):c.jsx(d,{FallbackComponent:x,children:c.jsxs(g,{children:[c.jsxs(g,{sx:{mb:4,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(p,{variant:"h4",component:"h1",fontWeight:"bold",children:"Campaigns"}),c.jsxs(g,{sx:{display:"flex",gap:2},children:[c.jsx(j,{variant:"outlined",color:"secondary",startIcon:c.jsx(v,{}),onClick:()=>{m("/campaigns/reports")},children:"Custom Reports"}),c.jsx(j,{variant:"contained",startIcon:c.jsx(y,{}),onClick:()=>m("/campaigns/new"),children:"Create Campaign"})]})]}),c.jsxs(g,{sx:{mb:4},children:[c.jsxs(g,{sx:{display:"flex",gap:2,mb:V?2:0},children:[c.jsx(b,{fullWidth:!0,placeholder:"Search campaigns...",variant:"outlined",size:"small",value:O,onChange:e=>{Q(e.target.value)},InputProps:{startAdornment:c.jsx(f,{position:"start",children:c.jsx(C,{fontSize:"small"})})}}),c.jsx(S,{sx:{border:1,borderColor:"divider",borderRadius:1},onClick:()=>N(!V),children:c.jsx(k,{fontSize:"small"})})]}),V&&c.jsx(g,{sx:{mt:2,display:"flex",gap:2},children:c.jsxs(w,{size:"small",sx:{minWidth:200},children:[c.jsx(A,{id:"status-filter-label",children:"Status"}),c.jsx(I,{labelId:"status-filter-label",value:K.status||"",label:"Status",onChange:e=>{_((a=>({...a,status:e.target.value})))},children:za.map((e=>c.jsx(T,{value:e.value,children:e.label},e.value)))})]})})]}),Y?c.jsx(g,{sx:{display:"flex",justifyContent:"center",py:8},children:c.jsx(R,{})}):c.jsx(c.Fragment,{children:0===J.length?c.jsxs(g,{sx:{textAlign:"center",py:4},children:[c.jsx(D,{sx:{fontSize:60,color:"text.secondary",mb:2}}),c.jsx(p,{variant:"h6",color:"text.secondary",children:"No campaigns found"}),c.jsx(p,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Try adjusting your search or filter criteria"}),c.jsx(j,{variant:"contained",startIcon:c.jsx(y,{}),onClick:()=>m("/campaigns/new"),children:"Create Campaign"})]}):c.jsx(B,{container:!0,spacing:3,children:J.map((e=>{return c.jsx(B,{item:!0,xs:12,md:6,children:c.jsxs(L,{sx:{height:"100%",display:"flex",flexDirection:"column",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.1)"}},onClick:()=>m(`/campaigns/${e.id}`),children:[c.jsxs(P,{sx:{flexGrow:1},children:[c.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[c.jsx(p,{variant:"h6",component:"div",fontWeight:"bold",children:e.name}),c.jsx(z,{label:e.status,color:"active"===e.status?"success":"paused"===e.status?"warning":"completed"===e.status?"info":"default",size:"small"})]}),c.jsx(p,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),c.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[c.jsxs(p,{variant:"caption",display:"block",children:[c.jsx("strong",{children:"Start Date:"})," ",X(e.startDate)]}),c.jsxs(p,{variant:"caption",display:"block",children:[c.jsx("strong",{children:"End Date:"})," ",X(e.endDate)]})]}),c.jsxs(p,{variant:"caption",display:"block",gutterBottom:!0,children:[c.jsx("strong",{children:"Budget:"})," ",(a=e.budget,a?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a):"N/A")]}),e.platform&&c.jsx(z,{label:e.platform,size:"small",sx:{mt:1}})]}),c.jsx(F,{}),c.jsxs($,{sx:{flexWrap:"wrap",gap:.5,justifyContent:"flex-start"},children:[c.jsx(j,{size:"small",onClick:a=>{a.stopPropagation(),m(`/campaigns/${e.id}`)},children:"View Details"}),c.jsx(j,{size:"small",onClick:a=>{a.stopPropagation(),m(`/campaigns/${e.id}/edit`)},children:"Edit"}),c.jsx(j,{size:"small",startIcon:c.jsx(E,{}),color:"info",onClick:a=>{a.stopPropagation(),m(`/campaigns/${e.id}/ab-testing`)},children:"A/B Test"}),c.jsx(j,{size:"small",startIcon:c.jsx(M,{}),color:"primary",onClick:a=>((e,a)=>{a.stopPropagation(),m(`/campaigns/${e}/benchmark`)})(e.id,a),children:"Benchmark"}),c.jsx(j,{size:"small",startIcon:c.jsx(W,{}),color:"warning",onClick:a=>((e,a)=>{a.stopPropagation(),m(`/campaigns/${e}/alerts`)})(e.id,a),children:"Alerts"})]})]})},e.id);var a}))})})]})})}},Symbol.toStringTag,{value:"Module"})),$a=[{id:"b1",name:"Frequent Travellers",category:"Travel",description:"People who travel frequently"},{id:"b2",name:"Online Shoppers",category:"Shopping",description:"People who frequently shop online"},{id:"b3",name:"Mobile Game Players",category:"Gaming",description:"People who play mobile games"},{id:"b4",name:"Video Streamers",category:"Entertainment",description:"People who use video streaming services"},{id:"b5",name:"Fitness App Users",category:"Health & Fitness",description:"People who use fitness tracking apps"},{id:"b6",name:"Food Delivery Users",category:"Food & Drink",description:"People who use food delivery services"},{id:"b7",name:"Business Travellers",category:"Travel",description:"People who travel for business"},{id:"b8",name:"Luxury Shoppers",category:"Shopping",description:"People who shop for luxury items"},{id:"b9",name:"Tech Early Adopters",category:"Technology",description:"People who adopt new technology early"},{id:"b10",name:"Charity Donors",category:"Charity",description:"People who donate to charity"}],Ea=[{id:"i1",name:"Photography",category:"Arts & Entertainment",description:"People interested in photography"},{id:"i2",name:"Cooking",category:"Food & Drink",description:"People interested in cooking"},{id:"i3",name:"Running",category:"Sports & Fitness",description:"People interested in running"},{id:"i4",name:"Fashion",category:"Shopping",description:"People interested in fashion"},{id:"i5",name:"Reading",category:"Books",description:"People interested in reading"},{id:"i6",name:"Gardening",category:"Hobbies",description:"People interested in gardening"},{id:"i7",name:"Technology",category:"Technology",description:"People interested in technology"},{id:"i8",name:"Travel",category:"Travel",description:"People interested in travel"},{id:"i9",name:"Music",category:"Arts & Entertainment",description:"People interested in music"},{id:"i10",name:"Hiking",category:"Sports & Fitness",description:"People interested in hiking"}],Ma=[{id:"le1",name:"New Job",timeframe:"recent"},{id:"le2",name:"Engagement",timeframe:"recent"},{id:"le3",name:"Marriage",timeframe:"recent"},{id:"le4",name:"Moving Home",timeframe:"recent"},{id:"le5",name:"New Baby",timeframe:"recent"},{id:"le6",name:"Anniversary",timeframe:"upcoming"},{id:"le7",name:"Birthday",timeframe:"upcoming"},{id:"le8",name:"Graduation",timeframe:"upcoming"},{id:"le9",name:"Retirement",timeframe:"upcoming"},{id:"le10",name:"New Business",timeframe:"recent"}],Wa=[{id:"ca1",name:"Website Visitors",description:"People who visited our website in the last 30 days",size:25e4},{id:"ca2",name:"Email Subscribers",description:"People who subscribed to our email list",size:12e4},{id:"ca3",name:"App Users",description:"People who used our app in the last 30 days",size:8e4},{id:"ca4",name:"Product Purchasers",description:"People who purchased our products",size:35e3},{id:"ca5",name:"Cart Abandoners",description:"People who added items to cart but did not purchase",size:62e3}],qa={id:"a1",name:"Health-conscious Young Adults",description:"Young adults interested in fitness and health",demographic:{ageRange:{min:25,max:34},gender:"all",locations:[{id:"uk",name:"United Kingdom",type:"country"}],languages:["English"],education:["College","Graduate School"],workStatus:["Employed"],relationshipStatus:[],income:{min:3e4,max:6e4,currency:"GBP"}},behaviors:[{id:"b5",name:"Fitness App Users",category:"Health & Fitness",description:"People who use fitness tracking apps"}],interests:[{id:"i3",name:"Running",category:"Sports & Fitness",description:"People interested in running"}],lifeEvents:[],devices:{deviceTypes:["mobile","desktop"],operatingSystems:["iOS","Android","Windows","MacOS"],browsers:["Chrome","Safari","Firefox"]},connections:{include:[],exclude:[]},customAudiences:[],lookalikeAudiences:[],estimatedReach:125e4,estimatedDailyResults:8500},Oa=[{audienceA:{id:"a1",name:"Health-conscious Young Adults",size:125e4},audienceB:{id:"ca1",name:"Website Visitors",size:25e4},overlapPercentage:35,overlapSize:87500},{audienceA:{id:"a1",name:"Health-conscious Young Adults",size:125e4},audienceB:{id:"ca2",name:"Email Subscribers",size:12e4},overlapPercentage:28,overlapSize:33600}],Qa=e=>new Promise((a=>setTimeout(a,e))),Ka=async e=>(await Qa(500),qa),_a=async()=>(await Qa(300),$a),Va=async()=>(await Qa(300),Ea),Na=async()=>(await Qa(300),Ma),Za=async()=>(await Qa(300),Wa),Ua=async e=>(await Qa(800),{...e,estimatedReach:Math.floor(2e6*Math.random())+5e5,estimatedDailyResults:Math.floor(15e3*Math.random())+2e3}),Ga=async e=>{var a,t,i,n,s,r,l,o,c,d,h,m,x;try{await Qa(300);let u=1e6;if(null==(a=e.demographic)?void 0:a.ageRange){u*=(e.demographic.ageRange.max-e.demographic.ageRange.min)/65}(null==(t=e.demographic)?void 0:t.gender)&&"all"!==e.demographic.gender&&(u*=.5),(null==(i=e.demographic)?void 0:i.locations)&&(u=u*Math.min(e.demographic.locations.length,10)/5),e.interests&&(u*=.8-.05*e.interests.length);const p=((null==(s=null==(n=e.demographic)?void 0:n.gender)?void 0:s.charCodeAt(0))||0+((null==(l=null==(r=e.demographic)?void 0:r.ageRange)?void 0:l.min)||25)+((null==(c=null==(o=e.demographic)?void 0:o.ageRange)?void 0:c.max)||65)+10*((null==(h=null==(d=e.demographic)?void 0:d.locations)?void 0:h.length)||1)+5*((null==(m=e.interests)?void 0:m.length)||0)+7*((null==(x=e.behaviors)?void 0:x.length)||0))%1e3/1e3,g=.01+.015*p,j=1e3*Math.round((u+3e5*p)/1e3);return{reach:j,dailyResults:100*Math.round(u*g/100)}}catch(u){return{reach:75e4,dailyResults:7500}}},Ya=async(e,a)=>(await Qa(1e3),{id:`lookalike-${Date.now()}`,name:`Lookalike Audience ${(new Date).toLocaleDateString()}`,estimatedSize:Math.floor(1e6*Math.random())+2e5}),Ha=async e=>(await Qa(800),Oa),Ja={ageRange:{min:18,max:65},gender:"all",locations:[],languages:[],education:[],workStatus:[],relationshipStatus:[],income:null},Xa=({initialDemographic:e=Ja,initialBehaviors:a=[],initialInterests:t=[],initialLifeEvents:i=[],onChange:n})=>{const[s,r]=l.useState(e),[o,d]=l.useState(a),[h,m]=l.useState(t),[x,u]=l.useState(i),[j,v]=l.useState(a),[y,f]=l.useState(t),[C,S]=l.useState(i),[k,D]=l.useState(!0);l.useEffect((()=>{(async()=>{D(!0);try{const[e,a,t]=await Promise.all([_a(),Va(),Na()]);d(e),m(a),u(t)}catch(e){}finally{D(!1)}})()}),[]),l.useEffect((()=>{n&&n({demographic:s,behaviors:j,interests:y,lifeEvents:C})}),[s,j,y,C,n]);const L=(e,a)=>{r((t=>({...t,[e]:a})))};return k?c.jsx(g,{sx:{display:"flex",justifyContent:"center",p:3},children:c.jsx(R,{})}):c.jsxs(q,{sx:{p:3,mb:3},children:[c.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:2},children:[c.jsx(O,{sx:{mr:1}}),c.jsx(p,{variant:"h6",children:"Audience Segmentation"})]}),c.jsx(F,{sx:{mb:3}}),c.jsx(p,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"Demographics"}),c.jsxs(B,{container:!0,spacing:3,sx:{mb:3},children:[c.jsxs(B,{item:!0,xs:12,md:6,children:[c.jsxs(p,{gutterBottom:!0,children:["Age Range: ",s.ageRange.min," - ",s.ageRange.max]}),c.jsx(Q,{value:[s.ageRange.min,s.ageRange.max],onChange:(e,a)=>{Array.isArray(a)&&r((e=>({...e,ageRange:{min:a[0],max:a[1]}})))},valueLabelDisplay:"auto",min:13,max:65,sx:{width:"95%"}})]}),c.jsx(B,{item:!0,xs:12,md:6,children:c.jsxs(w,{fullWidth:!0,children:[c.jsx(A,{children:"Gender"}),c.jsxs(I,{value:s.gender,label:"Gender",onChange:e=>L("gender",e.target.value),children:[c.jsx(T,{value:"all",children:"All Genders"}),c.jsx(T,{value:"male",children:"Male"}),c.jsx(T,{value:"female",children:"Female"})]})]})}),c.jsx(B,{item:!0,xs:12,children:c.jsx(K,{multiple:!0,options:[{id:"uk",name:"United Kingdom",type:"country"},{id:"us",name:"United States",type:"country"},{id:"ca",name:"Canada",type:"country"},{id:"au",name:"Australia",type:"country"},{id:"london",name:"London",type:"city"},{id:"nyc",name:"New York",type:"city"},{id:"la",name:"Los Angeles",type:"city"}],getOptionLabel:e=>e.name,value:s.locations,onChange:(e,a)=>L("locations",a),renderInput:e=>c.jsx(b,{...e,label:"Locations"}),renderTags:(e,a)=>e.map(((e,t)=>l.createElement(z,{...a({index:t}),key:e.id,label:e.name,size:"small"})))})}),c.jsx(B,{item:!0,xs:12,md:6,children:c.jsx(K,{multiple:!0,options:["English","Spanish","French","German","Chinese","Japanese","Arabic"],value:s.languages,onChange:(e,a)=>L("languages",a),renderInput:e=>c.jsx(b,{...e,label:"Languages"}),renderTags:(e,a)=>e.map(((e,t)=>l.createElement(z,{...a({index:t}),key:e,label:e,size:"small"})))})}),c.jsx(B,{item:!0,xs:12,md:6,children:c.jsx(K,{multiple:!0,options:["High School","College","Graduate School","Doctorate"],value:s.education,onChange:(e,a)=>L("education",a),renderInput:e=>c.jsx(b,{...e,label:"Education"}),renderTags:(e,a)=>e.map(((e,t)=>l.createElement(z,{...a({index:t}),key:e,label:e,size:"small"})))})})]}),c.jsx(p,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"Behaviours"}),c.jsx(B,{container:!0,spacing:3,sx:{mb:3},children:c.jsx(B,{item:!0,xs:12,children:c.jsx(K,{multiple:!0,options:o,getOptionLabel:e=>e.name,value:j,onChange:(e,a)=>v(a),renderInput:e=>c.jsx(b,{...e,label:"Select Behaviours"}),renderTags:(e,a)=>e.map(((e,t)=>l.createElement(z,{...a({index:t}),key:e.id,label:e.name,size:"small"}))),groupBy:e=>e.category})})}),c.jsx(p,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"Interests"}),c.jsx(B,{container:!0,spacing:3,sx:{mb:3},children:c.jsx(B,{item:!0,xs:12,children:c.jsx(K,{multiple:!0,options:h,getOptionLabel:e=>e.name,value:y,onChange:(e,a)=>f(a),renderInput:e=>c.jsx(b,{...e,label:"Select Interests"}),renderTags:(e,a)=>e.map(((e,t)=>l.createElement(z,{...a({index:t}),key:e.id,label:e.name,size:"small"}))),groupBy:e=>e.category})})}),c.jsx(p,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"Life Events"}),c.jsx(B,{container:!0,spacing:3,children:c.jsx(B,{item:!0,xs:12,children:c.jsx(K,{multiple:!0,options:x,getOptionLabel:e=>e.name,value:C,onChange:(e,a)=>S(a),renderInput:e=>c.jsx(b,{...e,label:"Select Life Events"}),renderTags:(e,a)=>e.map(((e,t)=>l.createElement(z,{...a({index:t}),key:e.id,label:`${e.name} (${e.timeframe})`,size:"small"}))),groupBy:e=>e.timeframe})})})]})},et=({onCreateLookalike:e})=>{const[a,t]=l.useState([]),[i,n]=l.useState(!0),[s,r]=l.useState(!1),[o,d]=l.useState(!1),[h,m]=l.useState(null),[x,u]=l.useState({sourceAudienceId:"",sourceAudienceName:"",similarityLevel:5,size:1e6,countries:[]});l.useEffect((()=>{(async()=>{n(!0);try{const e=await Za();t(e)}catch(e){m("Failed to load custom audiences. Please try again.")}finally{n(!1)}})()}),[]);const v=(e,a)=>{u((t=>({...t,[e]:a})))};return i?c.jsx(g,{sx:{display:"flex",justifyContent:"center",p:3},children:c.jsx(R,{})}):c.jsxs(q,{sx:{p:3,mb:3},children:[c.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:2},children:[c.jsx(_,{sx:{mr:1}}),c.jsx(p,{variant:"h6",children:"Create Lookalike Audience"})]}),c.jsx(F,{sx:{mb:3}}),o&&c.jsx(V,{severity:"success",sx:{mb:3},children:"Lookalike audience created successfully!"}),h&&c.jsx(V,{severity:"error",sx:{mb:3},children:h}),c.jsxs(B,{container:!0,spacing:3,children:[c.jsx(B,{item:!0,xs:12,children:c.jsx(K,{options:a,getOptionLabel:e=>e.name,onChange:(e,a)=>{var t;u((t=a)?e=>({...e,sourceAudienceId:t.id,sourceAudienceName:t.name}):e=>({...e,sourceAudienceId:"",sourceAudienceName:""}))},renderInput:e=>c.jsx(b,{...e,label:"Source Audience",helperText:"Select a custom audience to use as the source for your lookalike",required:!0}),renderOption:(e,a)=>c.jsx("li",{...e,children:c.jsxs(g,{children:[c.jsx(p,{variant:"body1",children:a.name}),c.jsxs(p,{variant:"caption",color:"text.secondary",children:[a.description," • ",a.size.toLocaleString()," users"]})]})})})}),c.jsxs(B,{item:!0,xs:12,md:6,children:[c.jsxs(p,{gutterBottom:!0,children:["Similarity Level: ",x.similarityLevel]}),c.jsx(p,{variant:"caption",color:"text.secondary",gutterBottom:!0,display:"block",children:"Higher values create audiences more similar to your source audience. Lower values reach broader audiences."}),c.jsx(Q,{value:x.similarityLevel,onChange:(e,a)=>v("similarityLevel",a),valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:10})]}),c.jsx(B,{item:!0,xs:12,md:6,children:c.jsx(b,{label:"Estimated Audience Size",value:x.size,onChange:e=>v("size",Number(e.target.value)),fullWidth:!0,type:"number",inputProps:{min:1e5,step:1e5},helperText:"Estimated reach of your lookalike audience"})}),c.jsx(B,{item:!0,xs:12,children:c.jsx(K,{multiple:!0,options:["United Kingdom","United States","Canada","Australia","Germany","France","Spain","Italy","Japan","Brazil","Mexico"],value:x.countries,onChange:(e,a)=>v("countries",a),renderInput:e=>c.jsx(b,{...e,label:"Countries",helperText:"Select countries where you want to find similar users"}),renderTags:(e,a)=>e.map(((e,t)=>l.createElement(z,{...a({index:t}),key:e,label:e,size:"small"})))})}),c.jsx(B,{item:!0,xs:12,children:c.jsx(j,{variant:"contained",color:"primary",onClick:async()=>{r(!0),d(!1),m(null);try{const a=await Ya(x.sourceAudienceId,{similarityLevel:x.similarityLevel,size:x.size,countries:x.countries});d(!0),e&&e(a)}catch(a){m("Failed to create lookalike audience. Please try again.")}finally{r(!1)}},disabled:s||!x.sourceAudienceId||0===x.countries.length,fullWidth:!0,children:s?c.jsx(R,{size:24}):"Create Lookalike Audience"})})]})]})},at=({initialAudienceIds:e=[]})=>{const[a,t]=l.useState([]),[i,n]=l.useState(e),[s,r]=l.useState([]),[o,d]=l.useState(!0),[h,m]=l.useState(!1),[x,u]=l.useState(null);l.useEffect((()=>{(async()=>{d(!0);try{const e=await Za();t(e)}catch(e){u("Failed to load custom audiences. Please try again.")}finally{d(!1)}})()}),[]);return o?c.jsx(g,{sx:{display:"flex",justifyContent:"center",p:3},children:c.jsx(R,{})}):c.jsxs(q,{sx:{p:3,mb:3},children:[c.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:2},children:[c.jsx(N,{sx:{mr:1}}),c.jsx(p,{variant:"h6",children:"Audience Overlap Analysis"})]}),c.jsx(F,{sx:{mb:3}}),x&&c.jsx(V,{severity:"error",sx:{mb:3},children:x}),c.jsxs(B,{container:!0,spacing:3,children:[c.jsx(B,{item:!0,xs:12,children:c.jsx(K,{multiple:!0,options:a,getOptionLabel:e=>e.name,value:a.filter((e=>i.includes(e.id))),onChange:(e,a)=>{n(a.map((e=>e.id)))},renderInput:e=>c.jsx(b,{...e,label:"Select Audiences to Compare",helperText:"Select at least two audiences to analyze overlap"}),renderTags:(e,a)=>e.map(((e,t)=>l.createElement(z,{...a({index:t}),key:e.id,label:e.name,size:"small"})))})}),c.jsx(B,{item:!0,xs:12,children:c.jsx(j,{variant:"contained",color:"primary",onClick:async()=>{if(i.length<2)u("Please select at least two audiences to analyze overlap.");else{m(!0),u(null);try{const e=await Ha(i);r(e)}catch(e){u("Failed to analyze audience overlap. Please try again.")}finally{m(!1)}}},disabled:h||i.length<2,fullWidth:!0,sx:{mb:3},children:h?c.jsx(R,{size:24}):"Analyze Audience Overlap"})}),s.length>0&&c.jsxs(B,{item:!0,xs:12,children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Overlap Results"}),c.jsx(F,{sx:{mb:3}}),c.jsx(g,{sx:{mt:2},children:s.map((e=>(e=>{const{audienceA:a,audienceB:t,overlapPercentage:i,overlapSize:n}=e,s=i/100*100;return c.jsxs(g,{sx:{mb:4},children:[c.jsxs(p,{variant:"subtitle1",children:[a.name," ∩ ",t.name]}),c.jsxs(p,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[i,"% overlap (",n.toLocaleString()," users)"]}),c.jsxs(g,{sx:{position:"relative",height:60,mt:2},children:[c.jsx(g,{sx:{position:"absolute",left:0,top:0,width:"100%",height:60,backgroundColor:"primary.light",opacity:.7,borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},children:c.jsxs(p,{variant:"caption",color:"white",fontWeight:"bold",children:[a.name," (",a.size.toLocaleString(),")"]})}),c.jsx(g,{sx:{position:"absolute",left:100-s+"%",top:0,width:"100%",height:60,backgroundColor:"secondary.light",opacity:.7,borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},children:c.jsxs(p,{variant:"caption",color:"white",fontWeight:"bold",children:[t.name," (",t.size.toLocaleString(),")"]})}),c.jsx(g,{sx:{position:"absolute",left:100-s+"%",top:0,width:`${s}%`,height:60,backgroundColor:"error.light",opacity:.9,borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center",zIndex:2},children:c.jsx(p,{variant:"caption",color:"white",fontWeight:"bold",children:n.toLocaleString()})})]})]},`${a.id}-${t.id}`)})(e)))}),c.jsx(V,{severity:"info",sx:{mt:3},children:c.jsxs(p,{variant:"body2",children:[c.jsx("strong",{children:"Analysis Insights:"})," High overlap indicates similar audiences that might be competing for the same impressions. Consider consolidating or differentiating targeting for better efficiency."]})})]})]})]})};function tt(e){const{children:a,value:t,index:i,...n}=e;return c.jsx("div",{role:"tabpanel",hidden:t!==i,id:`adset-tabpanel-${i}`,"aria-labelledby":`adset-tab-${i}`,...n,children:t===i&&c.jsx(g,{sx:{pt:3},children:a})})}const it=({adSetId:e,campaignId:a,onSave:t})=>{const[i,n]=l.useState(0),[s,r]=l.useState(!1),[o,d]=l.useState(!1),[h,m]=l.useState(null),[x,u]=l.useState(!1),[v,y]=l.useState(null),[f,C]=l.useState(null),[k,w]=l.useState("");l.useEffect((()=>{e&&(r(!0),Ka(e).then((e=>{y(e),w(e.name),C({reach:e.estimatedReach,dailyResults:e.estimatedDailyResults})})).catch((e=>{m("Failed to load ad set data. Please try again.")})).finally((()=>{r(!1)})))}),[e]);const A=async e=>{try{r(!0);const a=await Ga(e);C(a)}catch(a){C({reach:75e4,dailyResults:5e3})}finally{r(!1)}};return s?c.jsx(g,{sx:{display:"flex",justifyContent:"center",p:4},children:c.jsx(R,{})}):c.jsxs(g,{children:[c.jsx(q,{sx:{p:3,mb:3},children:c.jsxs(B,{container:!0,spacing:2,alignItems:"center",children:[c.jsx(B,{item:!0,xs:12,md:6,children:c.jsx(b,{label:"Ad Set Name",value:k,onChange:e=>w(e.target.value),fullWidth:!0,variant:"outlined",placeholder:"Enter a name for your ad set"})}),c.jsx(B,{item:!0,xs:12,md:6,children:c.jsx(g,{display:"flex",justifyContent:"flex-end",children:c.jsx(j,{variant:"contained",color:"primary",startIcon:c.jsx(Z,{}),onClick:async()=>{if(v){d(!0),m(null);try{const e={...v,name:k||"New Ad Set"},a=await Ua(e);u(!0),setTimeout((()=>u(!1)),3e3),t&&t(a)}catch(e){m("Failed to save ad set. Please try again.")}finally{d(!1)}}},disabled:o,children:o?c.jsx(R,{size:24}):"Save Ad Set"})})}),x&&c.jsx(B,{item:!0,xs:12,children:c.jsx(V,{severity:"success",children:"Ad set saved successfully!"})}),h&&c.jsx(B,{item:!0,xs:12,children:c.jsx(V,{severity:"error",children:h})})]})}),c.jsx(L,{sx:{mb:3},children:c.jsxs(P,{children:[c.jsxs(B,{container:!0,spacing:2,alignItems:"center",children:[c.jsx(B,{item:!0,children:c.jsx(U,{color:"primary",fontSize:"large"})}),c.jsxs(B,{item:!0,xs:!0,children:[c.jsx(p,{variant:"h6",children:"Estimated Audience Reach"}),c.jsxs(g,{sx:{display:"flex",alignItems:"center",mt:1},children:[s?c.jsx(R,{size:24,sx:{mr:2}}):c.jsx(p,{variant:"h4",fontWeight:"bold",color:"primary",children:l.useMemo((()=>f?f.reach.toLocaleString():"0"),[null==f?void 0:f.reach])}),c.jsx(G,{title:"Potential reach based on your targeting criteria",children:c.jsx(S,{size:"small",children:c.jsx(Y,{fontSize:"small"})})})]})]}),c.jsxs(B,{item:!0,children:[c.jsx(p,{variant:"subtitle2",color:"text.secondary",children:"Estimated Daily Results"}),c.jsxs(g,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[c.jsx(H,{color:"secondary"}),s?c.jsx(R,{size:20,sx:{ml:2},color:"secondary"}):c.jsx(p,{variant:"h6",fontWeight:"bold",color:"secondary",sx:{ml:1},children:l.useMemo((()=>f?f.dailyResults.toLocaleString():"0"),[null==f?void 0:f.dailyResults])})]})]})]}),v&&c.jsxs(g,{sx:{mt:2},children:[c.jsx(F,{sx:{mb:2}}),c.jsx(p,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Active Targeting Criteria:"}),c.jsxs(g,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[c.jsx(z,{label:`Age: ${v.demographic.ageRange.min}-${v.demographic.ageRange.max}`,size:"small"}),c.jsx(z,{label:`Gender: ${"all"===v.demographic.gender?"All":v.demographic.gender}`,size:"small"}),v.demographic.locations.length>0&&c.jsx(z,{label:`${v.demographic.locations.length} Locations`,size:"small"}),v.behaviors.length>0&&c.jsx(z,{label:`${v.behaviors.length} Behaviors`,size:"small"}),v.interests.length>0&&c.jsx(z,{label:`${v.interests.length} Interests`,size:"small"}),v.lifeEvents.length>0&&c.jsx(z,{label:`${v.lifeEvents.length} Life Events`,size:"small"})]})]})]})}),c.jsx(g,{sx:{borderBottom:1,borderColor:"divider"},children:c.jsxs(J,{value:i,onChange:(e,a)=>{n(a)},"aria-label":"ad set detail tabs",children:[c.jsx(X,{label:"Audience Segmentation",id:"adset-tab-0"}),c.jsx(X,{label:"Lookalike Audiences",id:"adset-tab-1"}),c.jsx(X,{label:"Audience Overlap Analysis",id:"adset-tab-2"})]})}),c.jsx(tt,{value:i,index:0,children:c.jsx(Xa,{initialDemographic:null==v?void 0:v.demographic,initialBehaviors:null==v?void 0:v.behaviors,initialInterests:null==v?void 0:v.interests,initialLifeEvents:null==v?void 0:v.lifeEvents,onChange:e=>{y((a=>{const t={...a||{id:"",name:k||"New Ad Set",demographic:e.demographic,behaviors:[],interests:[],lifeEvents:[],devices:{deviceTypes:["mobile","desktop","tablet"],operatingSystems:[],browsers:[]},estimatedReach:0,estimatedDailyResults:0},demographic:e.demographic,behaviors:e.behaviors,interests:e.interests,lifeEvents:e.lifeEvents};return A(t),t}))}})}),c.jsx(tt,{value:i,index:1,children:c.jsx(et,{onCreateLookalike:e=>{y((a=>{const t=a||{id:"",name:k||"New Ad Set",demographic:{gender:"all",ageRange:{min:18,max:65},locations:[]},behaviors:[],interests:[],lifeEvents:[],lookalikeAudiences:[],devices:{deviceTypes:["mobile","desktop","tablet"],operatingSystems:[],browsers:[]},estimatedReach:0,estimatedDailyResults:0};return{...t,lookalikeAudiences:[...t.lookalikeAudiences||[],e.id]}})),u(!0),setTimeout((()=>u(!1)),3e3)}})}),c.jsx(tt,{value:i,index:2,children:c.jsx(at,{initialAudienceIds:(null==v?void 0:v.customAudiences)||[]})})]})},nt=e=>c.jsx(d,{FallbackComponent:x,children:c.jsx(it,{...e})});function st(e){const{children:a,value:t,index:i,...n}=e;return c.jsx("div",{role:"tabpanel",hidden:t!==i,id:`campaign-tabpanel-${i}`,"aria-labelledby":`campaign-tab-${i}`,...n,children:t===i&&c.jsx(g,{sx:{py:3},children:a})})}const rt=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{id:e}=r(),a=n(),[t,i]=l.useState(!0),[s,o]=l.useState(0);l.useEffect((()=>{const e=setTimeout((()=>{i(!1)}),800);return()=>clearTimeout(e)}),[]);const d=()=>{a("/campaigns")};return c.jsxs(g,{children:[c.jsxs(ee,{sx:{mb:2},children:[c.jsx(ae,{color:"inherit",onClick:d,sx:{cursor:"pointer"},children:"Campaigns"}),c.jsx(p,{color:"text.primary",children:"Campaign Details"})]}),c.jsxs(g,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs(g,{children:[c.jsx(p,{variant:"h4",component:"h1",fontWeight:"bold",children:"Campaign Details"}),c.jsxs(p,{variant:"subtitle1",color:"text.secondary",children:["ID: ",e]})]}),c.jsx(j,{variant:"contained",onClick:d,children:"Back to Campaigns"})]}),t?c.jsx(g,{sx:{display:"flex",justifyContent:"center",my:4},children:c.jsx(R,{})}):c.jsx(c.Fragment,{children:c.jsxs(q,{sx:{mb:3},children:[c.jsxs(J,{value:s,onChange:(e,a)=>{o(a)},"aria-label":"campaign tabs",sx:{borderBottom:1,borderColor:"divider"},children:[c.jsx(X,{label:"Overview",id:"campaign-tab-0"}),c.jsx(X,{label:"Ad Sets",id:"campaign-tab-1"}),c.jsx(X,{label:"Performance",id:"campaign-tab-2"}),c.jsx(X,{label:"Budget & Schedule",id:"campaign-tab-3"})]}),c.jsx(st,{value:s,index:0,children:c.jsx(p,{variant:"body1",children:"Campaign overview and summary statistics will be displayed here."})}),c.jsxs(st,{value:s,index:1,children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Ad Set Targeting"}),c.jsx(F,{sx:{mb:3}}),c.jsx(nt,{campaignId:e})]}),c.jsx(st,{value:s,index:2,children:c.jsx(p,{variant:"body1",children:"Campaign performance metrics and analytics will be displayed here."})}),c.jsx(st,{value:s,index:3,children:c.jsx(p,{variant:"body1",children:"Budget and scheduling options will be displayed here."})})]})})]})}},Symbol.toStringTag,{value:"Module"})),lt=[{id:"a",name:"Control",color:"#3f51b5"},{id:"b",name:"Variant B",color:"#f44336"},{id:"c",name:"Variant C",color:"#4caf50"},{id:"d",name:"Variant D",color:"#ff9800"}],ot=[{key:"clickRate",name:"Click Rate",formatter:e=>`${e.toFixed(2)}%`,higherIsBetter:!0},{key:"conversionRate",name:"Conversion Rate",formatter:e=>`${e.toFixed(2)}%`,higherIsBetter:!0},{key:"revenuePerVisitor",name:"Revenue/Visitor",formatter:e=>`$${e.toFixed(2)}`,higherIsBetter:!0},{key:"bounceRate",name:"Bounce Rate",formatter:e=>`${e.toFixed(2)}%`,higherIsBetter:!1}],ct=[{variant:"a",clickRate:5.2,conversionRate:2.1,revenuePerVisitor:1.45,bounceRate:35.8},{variant:"b",clickRate:7.3,conversionRate:2.8,revenuePerVisitor:1.95,bounceRate:32.1},{variant:"c",clickRate:6.9,conversionRate:3.2,revenuePerVisitor:2.15,bounceRate:30.5},{variant:"d",clickRate:4.8,conversionRate:1.9,revenuePerVisitor:1.35,bounceRate:39.2}],dt={1:{id:"1",name:"Summer Collection Launch",description:"Promotion for our new summer apparel line",status:"active",startDate:"2025-04-01T00:00:00Z",endDate:"2025-06-30T00:00:00Z",budget:5e3,platform:"facebook",brandId:"2",createdAt:"2025-03-15T00:00:00Z",updatedAt:"2025-03-15T00:00:00Z"},2:{id:"2",name:"Q2 Lead Generation",description:"B2B lead generation campaign targeting CTOs",status:"draft",startDate:"2025-04-15T00:00:00Z",budget:7500,platform:"linkedin",brandId:"1",createdAt:"2025-03-10T00:00:00Z",updatedAt:"2025-03-10T00:00:00Z"},3:{id:"3",name:"Product Launch: Home Fitness",description:"Campaign for new home fitness product line",status:"active",startDate:"2025-03-01T00:00:00Z",endDate:"2025-05-31T00:00:00Z",budget:12e3,platform:"google,instagram",brandId:"3",createdAt:"2025-02-15T00:00:00Z",updatedAt:"2025-03-05T00:00:00Z"},4:{id:"4",name:"Interior Design Spring Showcase",description:"Showcase of spring collection for interior design",status:"paused",startDate:"2025-03-10T00:00:00Z",endDate:"2025-04-10T00:00:00Z",budget:3e3,platform:"instagram,pinterest",brandId:"4",createdAt:"2025-02-28T00:00:00Z",updatedAt:"2025-03-15T00:00:00Z"}};function ht(e){const{children:a,value:t,index:i,...n}=e;return c.jsx("div",{role:"tabpanel",hidden:t!==i,id:`ab-test-tabpanel-${i}`,"aria-labelledby":`ab-test-tab-${i}`,...n,children:t===i&&c.jsx(g,{sx:{p:3},children:a})})}function mt(e){return{id:`ab-test-tab-${e}`,"aria-controls":`ab-test-tabpanel-${e}`}}const xt=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{var e,a;const{id:t}=r(),[i,n]=l.useState(!0),[s,o]=l.useState(null),[d,h]=l.useState(0),[m,x]=l.useState(ot[0].key),[v,y]=l.useState("95"),[b,f]=l.useState(!0),[C,S]=l.useState(null);l.useEffect((()=>{const e=setTimeout((()=>{n(!1),t&&dt[t]&&o(dt[t]);const e=lt.find((e=>"c"===e.id));S((null==e?void 0:e.id)||null)}),800);return()=>clearTimeout(e)}),[t]);const k=e=>{y(e.target.value)};return i?c.jsx(g,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:c.jsx(R,{})}):s?c.jsxs(g,{children:[c.jsxs(g,{sx:{mb:4,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs(g,{children:[c.jsx(p,{variant:"h4",component:"h1",fontWeight:"bold",children:"A/B Testing Dashboard"}),c.jsx(p,{variant:"subtitle1",color:"text.secondary",children:s.name})]}),c.jsxs(g,{children:[c.jsx(j,{variant:b?"outlined":"contained",color:b?"error":"success",onClick:()=>{f(!b)},sx:{mr:2},children:b?"Stop Test":"Resume Test"}),c.jsx(j,{variant:"contained",disabled:!C,children:"Apply Winner"})]})]}),c.jsxs(B,{container:!0,spacing:3,sx:{mb:4},children:[c.jsx(B,{item:!0,xs:12,md:6,lg:3,children:c.jsx(L,{children:c.jsxs(P,{children:[c.jsx(p,{color:"text.secondary",gutterBottom:!0,children:"Test Status"}),c.jsxs(g,{sx:{display:"flex",alignItems:"center"},children:[c.jsx(z,{label:b?"Running":"Paused",color:b?"success":"default",sx:{mr:1}}),c.jsx(p,{variant:"body2",color:"text.secondary",children:b?"Test in progress":"Test is paused"})]})]})})}),c.jsx(B,{item:!0,xs:12,md:6,lg:3,children:c.jsx(L,{children:c.jsxs(P,{children:[c.jsx(p,{color:"text.secondary",gutterBottom:!0,children:"Confidence Level"}),c.jsxs(w,{fullWidth:!0,size:"small",children:[c.jsx(A,{id:"confidence-level-label",children:"Confidence"}),c.jsxs(I,{labelId:"confidence-level-label",value:v,label:"Confidence",onChange:k,children:[c.jsx(T,{value:"90",children:"90%"}),c.jsx(T,{value:"95",children:"95%"}),c.jsx(T,{value:"99",children:"99%"})]})]})]})})}),c.jsx(B,{item:!0,xs:12,md:6,lg:3,children:c.jsx(L,{children:c.jsxs(P,{children:[c.jsx(p,{color:"text.secondary",gutterBottom:!0,children:"Active Variants"}),c.jsx(p,{variant:"h5",children:lt.length}),c.jsx(g,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:1},children:lt.map((e=>c.jsx(z,{label:e.name,size:"small"},e.id)))})]})})}),c.jsx(B,{item:!0,xs:12,md:6,lg:3,children:c.jsx(L,{children:c.jsxs(P,{children:[c.jsx(p,{color:"text.secondary",gutterBottom:!0,children:"Winning Variant"}),C?c.jsxs(c.Fragment,{children:[c.jsx(p,{variant:"h5",children:null==(e=lt.find((e=>e.id===C)))?void 0:e.name}),c.jsxs(p,{variant:"body2",color:"success.main",children:["Significantly better for ",null==(a=ot.find((e=>"conversionRate"===e.key)))?void 0:a.name]})]}):c.jsx(p,{variant:"body2",color:"text.secondary",children:"Not enough data yet"})]})})})]}),c.jsxs(L,{sx:{mb:4},children:[c.jsx(g,{sx:{borderBottom:1,borderColor:"divider"},children:c.jsxs(J,{value:d,onChange:(e,a)=>{h(a)},"aria-label":"A/B test tabs",children:[c.jsx(X,{label:"Results",...mt(0)}),c.jsx(X,{label:"Variants",...mt(1)}),c.jsx(X,{label:"Settings",...mt(2)})]})}),c.jsx(ht,{value:d,index:0,children:c.jsxs(B,{container:!0,spacing:3,children:[c.jsx(B,{item:!0,xs:12,children:c.jsx(u,{title:"Test Results",description:"Performance comparison between variants",variants:lt,metrics:ot,results:ct,height:400,selectedMetric:m,onSelectMetric:e=>{x(e)}})}),c.jsxs(B,{item:!0,xs:12,children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Detailed Results"}),c.jsx(te,{component:q,children:c.jsxs(ie,{children:[c.jsx(ne,{children:c.jsxs(se,{children:[c.jsx(re,{children:"Variant"}),ot.map((e=>c.jsx(re,{align:"right",children:e.name},e.key))),c.jsx(re,{align:"right",children:"Sample Size"})]})}),c.jsx(le,{children:ct.map((e=>{var a;const t=(null==(a=lt.find((a=>a.id===e.variant)))?void 0:a.name)||"";return c.jsxs(se,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[c.jsxs(re,{component:"th",scope:"row",children:[t,e.variant===C&&c.jsx(z,{label:"Winner",color:"success",size:"small",sx:{ml:1}})]}),ot.map((a=>{var t;return c.jsx(re,{align:"right",children:(null==(t=a.formatter)?void 0:t.call(a,e[a.key]))||e[a.key]},a.key)})),c.jsx(re,{align:"right",children:"1,250"})]},e.variant)}))})]})})]})]})}),c.jsxs(ht,{value:d,index:1,children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Variant Content"}),c.jsx(V,{severity:"info",sx:{mb:3},children:"The following variants are currently being tested in this campaign."}),c.jsx(B,{container:!0,spacing:3,children:lt.map((e=>c.jsx(B,{item:!0,xs:12,md:6,children:c.jsx(L,{variant:"outlined",children:c.jsxs(P,{children:[c.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[c.jsx(p,{variant:"h6",children:e.name}),e.id===C&&c.jsx(z,{label:"Winner",color:"success",size:"small"})]}),c.jsx(p,{variant:"body2",color:"text.secondary",paragraph:!0,children:"a"===e.id?"Original campaign content with standard copy and imagery.":`Modified version with ${"b"===e.id?"stronger call-to-action and red button":"c"===e.id?"testimonials and social proof elements":"simplified layout with fewer distractions"}.`}),c.jsx(g,{sx:{height:200,backgroundColor:"grey.100",display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:c.jsx(p,{variant:"body2",color:"text.secondary",children:"[Variant Preview]"})}),c.jsx(j,{variant:"outlined",size:"small",children:"Edit Variant"})]})})},e.id)))})]}),c.jsxs(ht,{value:d,index:2,children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Test Settings"}),c.jsx(L,{variant:"outlined",sx:{mb:3},children:c.jsxs(P,{children:[c.jsx(p,{variant:"subtitle1",gutterBottom:!0,children:"Traffic Allocation"}),c.jsx(p,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Percentage of campaign traffic sent to each variant:"}),c.jsx(B,{container:!0,spacing:2,children:lt.map((e=>c.jsx(B,{item:!0,xs:12,sm:6,md:3,children:c.jsxs(q,{sx:{p:2,textAlign:"center"},children:[c.jsx(p,{variant:"subtitle2",children:e.name}),c.jsx(p,{variant:"h6",children:"25%"})]})},e.id)))})]})}),c.jsx(L,{variant:"outlined",sx:{mb:3},children:c.jsxs(P,{children:[c.jsx(p,{variant:"subtitle1",gutterBottom:!0,children:"Primary Metrics"}),c.jsx(p,{variant:"body2",color:"text.secondary",paragraph:!0,children:"The metrics used to determine the winning variant:"}),c.jsx(B,{container:!0,spacing:2,children:ot.map((e=>c.jsx(B,{item:!0,xs:12,sm:6,md:3,children:c.jsxs(q,{sx:{p:2,textAlign:"center",border:"conversionRate"===e.key?2:0,borderColor:"conversionRate"===e.key?"primary.main":"transparent"},children:[c.jsxs(p,{variant:"subtitle2",children:[e.name,"conversionRate"===e.key&&c.jsx(z,{label:"Primary",color:"primary",size:"small",sx:{ml:1}})]}),c.jsx(p,{variant:"body2",color:"text.secondary",children:e.higherIsBetter?"Higher is better":"Lower is better"})]})},e.key)))})]})}),c.jsx(L,{variant:"outlined",children:c.jsxs(P,{children:[c.jsx(p,{variant:"subtitle1",gutterBottom:!0,children:"Statistical Significance"}),c.jsx(p,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Configure how statistical significance is calculated:"}),c.jsxs(B,{container:!0,spacing:2,children:[c.jsx(B,{item:!0,xs:12,sm:6,md:4,children:c.jsxs(q,{sx:{p:2},children:[c.jsx(p,{variant:"subtitle2",gutterBottom:!0,children:"Confidence Level"}),c.jsx(w,{fullWidth:!0,size:"small",children:c.jsxs(I,{value:v,onChange:k,children:[c.jsx(T,{value:"90",children:"90%"}),c.jsx(T,{value:"95",children:"95%"}),c.jsx(T,{value:"99",children:"99%"})]})})]})}),c.jsx(B,{item:!0,xs:12,sm:6,md:4,children:c.jsxs(q,{sx:{p:2},children:[c.jsx(p,{variant:"subtitle2",gutterBottom:!0,children:"Minimum Sample Size"}),c.jsx(p,{variant:"h6",children:"1,000"}),c.jsx(p,{variant:"body2",color:"text.secondary",children:"per variant"})]})}),c.jsx(B,{item:!0,xs:12,sm:6,md:4,children:c.jsxs(q,{sx:{p:2},children:[c.jsx(p,{variant:"subtitle2",gutterBottom:!0,children:"Required Lift"}),c.jsx(p,{variant:"h6",children:"5%"}),c.jsx(p,{variant:"body2",color:"text.secondary",children:"minimum improvement"})]})})]})]})})]})]})]}):c.jsx(g,{sx:{mt:4},children:c.jsx(V,{severity:"error",children:"Campaign not found"})})}},Symbol.toStringTag,{value:"Module"})),ut=[{id:"1",campaignId:"1",campaignName:"Summer Collection Launch",testName:"Homepage Banner Test",status:"running",variants:3,startDate:"2025-03-10T00:00:00Z",endDate:"2025-03-31T00:00:00Z",winningVariant:null,conversionLift:null},{id:"2",campaignId:"1",campaignName:"Summer Collection Launch",testName:"Product Page Layout Test",status:"completed",variants:2,startDate:"2025-02-15T00:00:00Z",endDate:"2025-03-15T00:00:00Z",winningVariant:"Variant B",conversionLift:"+18.5%"},{id:"3",campaignId:"2",campaignName:"Q2 Lead Generation",testName:"CTA Button Color Test",status:"running",variants:4,startDate:"2025-03-15T00:00:00Z",endDate:"2025-04-15T00:00:00Z",winningVariant:null,conversionLift:null},{id:"4",campaignId:"3",campaignName:"Product Launch: Home Fitness",testName:"Headline Copy Test",status:"completed",variants:3,startDate:"2025-02-01T00:00:00Z",endDate:"2025-03-01T00:00:00Z",winningVariant:"Variant C",conversionLift:"+12.3%"},{id:"5",campaignId:"4",campaignName:"Interior Design Spring Showcase",testName:"Image Layout Test",status:"paused",variants:2,startDate:"2025-03-05T00:00:00Z",endDate:"2025-04-05T00:00:00Z",winningVariant:null,conversionLift:null}],pt=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const e=n(),[a,t]=l.useState(!0),[i,s]=l.useState(""),[r,o]=l.useState("all"),[d,h]=l.useState(ut);l.useEffect((()=>{const e=setTimeout((()=>{t(!1)}),800);return()=>clearTimeout(e)}),[]),l.useEffect((()=>{let e=[...ut];if(i){const a=i.toLowerCase();e=e.filter((e=>e.testName.toLowerCase().includes(a)||e.campaignName.toLowerCase().includes(a)))}"all"!==r&&(e=e.filter((e=>e.status===r))),h(e)}),[i,r]);const m=e=>new Date(e).toLocaleDateString();return a?c.jsx(g,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:c.jsx(R,{})}):c.jsxs(g,{children:[c.jsxs(g,{sx:{mb:4,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs(g,{children:[c.jsx(p,{variant:"h4",component:"h1",fontWeight:"bold",children:"A/B Testing Dashboard"}),c.jsx(p,{variant:"subtitle1",color:"text.secondary",children:"Manage and monitor your campaign A/B tests"})]}),c.jsx(j,{variant:"contained",startIcon:c.jsx(E,{}),onClick:()=>e("/campaigns"),children:"Create New Test"})]}),c.jsxs(g,{sx:{mb:4,display:"flex",gap:2},children:[c.jsx(b,{placeholder:"Search tests...",variant:"outlined",size:"small",value:i,onChange:e=>{s(e.target.value)},sx:{flexGrow:1},InputProps:{startAdornment:c.jsx(f,{position:"start",children:c.jsx(C,{fontSize:"small"})})}}),c.jsxs(w,{size:"small",sx:{minWidth:150},children:[c.jsx(A,{id:"status-filter-label",children:"Status"}),c.jsxs(I,{labelId:"status-filter-label",value:r,label:"Status",onChange:e=>{o(e.target.value)},children:[c.jsx(T,{value:"all",children:"All"}),c.jsx(T,{value:"running",children:"Running"}),c.jsx(T,{value:"completed",children:"Completed"}),c.jsx(T,{value:"paused",children:"Paused"})]})]})]}),c.jsx(te,{component:q,children:c.jsxs(ie,{children:[c.jsx(ne,{children:c.jsxs(se,{children:[c.jsx(re,{children:"Test Name"}),c.jsx(re,{children:"Campaign"}),c.jsx(re,{children:"Status"}),c.jsx(re,{children:"Variants"}),c.jsx(re,{children:"Start Date"}),c.jsx(re,{children:"End Date"}),c.jsx(re,{children:"Winning Variant"}),c.jsx(re,{children:"Conversion Lift"}),c.jsx(re,{align:"right",children:"Actions"})]})}),c.jsx(le,{children:0===d.length?c.jsx(se,{children:c.jsx(re,{colSpan:9,align:"center",children:c.jsxs(g,{sx:{py:3},children:[c.jsx(E,{sx:{fontSize:40,color:"text.secondary",mb:1}}),c.jsx(p,{variant:"body1",color:"text.secondary",children:"No A/B tests found matching your criteria"})]})})}):d.map((a=>c.jsxs(se,{children:[c.jsx(re,{children:a.testName}),c.jsx(re,{children:a.campaignName}),c.jsx(re,{children:c.jsx(z,{label:a.status,color:"running"===a.status?"success":"completed"===a.status?"primary":"default",size:"small"})}),c.jsx(re,{children:a.variants}),c.jsx(re,{children:m(a.startDate)}),c.jsx(re,{children:m(a.endDate)}),c.jsx(re,{children:a.winningVariant||"—"}),c.jsx(re,{children:a.conversionLift?c.jsx(z,{label:a.conversionLift,color:"success",size:"small"}):"—"}),c.jsx(re,{align:"right",children:c.jsx(j,{size:"small",variant:"outlined",onClick:()=>{return t=a.campaignId,void e(`/campaigns/${t}/ab-testing`);var t},children:"View Details"})})]},a.id)))})]})})]})}},Symbol.toStringTag,{value:"Module"})),gt=[{month:"Jan",spend:3500,revenue:9800,roi:180},{month:"Feb",spend:4200,revenue:14100,roi:235},{month:"Mar",spend:3800,revenue:12400,roi:226},{month:"Apr",spend:5100,revenue:18300,roi:259},{month:"May",spend:4700,revenue:15200,roi:223},{month:"Jun",spend:5300,revenue:19800,roi:273}],jt=[{name:"Facebook Ads",spend:8200,revenue:24500,roi:198.8,cpa:25.1},{name:"Google Ads",spend:9300,revenue:32800,roi:252.7,cpa:18.45},{name:"Instagram",spend:6100,revenue:18700,roi:206.6,cpa:21.9},{name:"LinkedIn",spend:4200,revenue:16800,roi:300,cpa:28.75},{name:"Email",spend:2100,revenue:11200,roi:433.3,cpa:15.3}],vt=[{name:"Facebook → Website → Purchase",value:420,avgValue:68,percentage:25.3},{name:"Google → Website → Cart → Purchase",value:380,avgValue:72,percentage:22.9},{name:"Email → Website → Purchase",value:290,avgValue:75,percentage:17.5},{name:"Instagram → Website → Cart → Abandon → Email → Purchase",value:210,avgValue:58,percentage:12.6},{name:"Direct → Website → Purchase",value:360,avgValue:63,percentage:21.7}],yt={"First Touch":[{channel:"Facebook",value:36},{channel:"Google",value:28},{channel:"Email",value:12},{channel:"Instagram",value:15},{channel:"Direct",value:9}],"Last Touch":[{channel:"Facebook",value:22},{channel:"Google",value:31},{channel:"Email",value:24},{channel:"Instagram",value:12},{channel:"Direct",value:11}],Linear:[{channel:"Facebook",value:28},{channel:"Google",value:30},{channel:"Email",value:19},{channel:"Instagram",value:14},{channel:"Direct",value:9}],"Position Based":[{channel:"Facebook",value:31},{channel:"Google",value:29},{channel:"Email",value:17},{channel:"Instagram",value:13},{channel:"Direct",value:10}]},bt=[{channel:"Facebook Ads",currentBudget:8200,recommendedBudget:9500,projected_roi:215.4,improvement:"+8.4%",action:"Increase budget for high-performing ad sets targeting 25-34 demographic"},{channel:"Google Ads",currentBudget:9300,recommendedBudget:10800,projected_roi:271.2,improvement:"+7.3%",action:"Increase keyword bids for converting search terms; add negative keywords for non-performing terms"},{channel:"Instagram",currentBudget:6100,recommendedBudget:5500,projected_roi:223.7,improvement:"+8.3%",action:"Reallocate budget from poorly performing stories ads to carousel posts"},{channel:"LinkedIn",currentBudget:4200,recommendedBudget:5e3,projected_roi:312.6,improvement:"+4.2%",action:"Increase sponsored content focusing on decision-makers; reduce right rail ads"},{channel:"Email",currentBudget:2100,recommendedBudget:2500,projected_roi:446.8,improvement:"+3.1%",action:"Expand automation sequences for cart abandonment; increase frequency for active subscribers"}];function ft(e){const{children:a,value:t,index:i,...n}=e;return c.jsx("div",{role:"tabpanel",hidden:t!==i,id:`roi-analytics-tabpanel-${i}`,"aria-labelledby":`roi-analytics-tab-${i}`,...n,children:t===i&&c.jsx(g,{sx:{py:3},children:a})})}function Ct(e){return{id:`roi-analytics-tab-${e}`,"aria-controls":`roi-analytics-tabpanel-${e}`}}const St=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],kt=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[e,a]=l.useState(!0),[t,i]=l.useState(0),[n,s]=l.useState("last30days"),[r,o]=l.useState("Last Touch");l.useEffect((()=>{const e=setTimeout((()=>{a(!1)}),800);return()=>clearTimeout(e)}),[]);return e?c.jsx(g,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:c.jsx(R,{})}):c.jsxs(g,{children:[c.jsxs(g,{sx:{mb:4,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs(g,{children:[c.jsx(p,{variant:"h4",component:"h1",fontWeight:"bold",children:"Campaign ROI Analytics"}),c.jsx(p,{variant:"subtitle1",color:"text.secondary",children:"Comprehensive ROI tracking and attribution analysis"})]}),c.jsxs(w,{sx:{minWidth:200},children:[c.jsx(A,{id:"date-range-label",children:"Date Range"}),c.jsxs(I,{labelId:"date-range-label",value:n,label:"Date Range",onChange:e=>{s(e.target.value)},size:"small",children:[c.jsx(T,{value:"last7days",children:"Last 7 Days"}),c.jsx(T,{value:"last30days",children:"Last 30 Days"}),c.jsx(T,{value:"last90days",children:"Last 90 Days"}),c.jsx(T,{value:"ytd",children:"Year to Date"}),c.jsx(T,{value:"custom",children:"Custom Range"})]})]})]}),c.jsxs(B,{container:!0,spacing:3,sx:{mb:4},children:[c.jsx(B,{item:!0,xs:12,sm:6,md:3,children:c.jsx(L,{children:c.jsxs(P,{children:[c.jsx(p,{color:"text.secondary",gutterBottom:!0,children:"Total Ad Spend"}),c.jsx(p,{variant:"h4",component:"div",children:"$29,900"}),c.jsx(p,{variant:"body2",color:"success.main",sx:{mt:1},children:"+12.4% vs previous period"})]})})}),c.jsx(B,{item:!0,xs:12,sm:6,md:3,children:c.jsx(L,{children:c.jsxs(P,{children:[c.jsx(p,{color:"text.secondary",gutterBottom:!0,children:"Total Revenue"}),c.jsx(p,{variant:"h4",component:"div",children:"$104,000"}),c.jsx(p,{variant:"body2",color:"success.main",sx:{mt:1},children:"+19.2% vs previous period"})]})})}),c.jsx(B,{item:!0,xs:12,sm:6,md:3,children:c.jsx(L,{children:c.jsxs(P,{children:[c.jsx(p,{color:"text.secondary",gutterBottom:!0,children:"Average ROAS"}),c.jsx(p,{variant:"h4",component:"div",children:"3.48x"}),c.jsx(p,{variant:"body2",color:"success.main",sx:{mt:1},children:"+6.1% vs previous period"})]})})}),c.jsx(B,{item:!0,xs:12,sm:6,md:3,children:c.jsx(L,{children:c.jsxs(P,{children:[c.jsx(p,{color:"text.secondary",gutterBottom:!0,children:"Conversion Rate"}),c.jsx(p,{variant:"h4",component:"div",children:"3.26%"}),c.jsx(p,{variant:"body2",color:"success.main",sx:{mt:1},children:"+0.4% vs previous period"})]})})})]}),c.jsxs(L,{sx:{mb:4},children:[c.jsx(g,{sx:{borderBottom:1,borderColor:"divider"},children:c.jsxs(J,{value:t,onChange:(e,a)=>{i(a)},"aria-label":"ROI analytics tabs",variant:"scrollable",scrollButtons:"auto",children:[c.jsx(X,{label:"ROI Overview",...Ct(0)}),c.jsx(X,{label:"Channel Comparison",...Ct(1)}),c.jsx(X,{label:"Attribution Models",...Ct(2)}),c.jsx(X,{label:"Conversion Paths",...Ct(3)}),c.jsx(X,{label:"ROAS Optimization",...Ct(4)})]})}),c.jsx(ft,{value:t,index:0,children:c.jsxs(B,{container:!0,spacing:3,children:[c.jsxs(B,{item:!0,xs:12,children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Monthly Performance"}),c.jsx(g,{sx:{height:400},children:c.jsx(pa,{width:"100%",height:"100%",children:c.jsxs(ga,{data:gt,margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(ja,{strokeDasharray:"3 3"}),c.jsx(va,{dataKey:"month"}),c.jsx(ya,{yAxisId:"left",orientation:"left",stroke:"#8884d8"}),c.jsx(ya,{yAxisId:"right",orientation:"right",stroke:"#82ca9d"}),c.jsx(ba,{formatter:e=>["$"+e.toLocaleString(),""]}),c.jsx(fa,{}),c.jsx(Ca,{yAxisId:"left",dataKey:"spend",name:"Ad Spend",fill:"#8884d8"}),c.jsx(Ca,{yAxisId:"left",dataKey:"revenue",name:"Revenue",fill:"#82ca9d"}),c.jsx(Sa,{yAxisId:"right",type:"monotone",dataKey:"roi",name:"ROI %",stroke:"#ff7300",strokeWidth:2})]})})})]}),c.jsxs(B,{item:!0,xs:12,md:6,children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"ROI by Channel"}),c.jsx(g,{sx:{height:300},children:c.jsx(pa,{width:"100%",height:"100%",children:c.jsxs(ga,{data:jt,layout:"vertical",margin:{top:5,right:30,left:100,bottom:5},children:[c.jsx(ja,{strokeDasharray:"3 3"}),c.jsx(va,{type:"number",domain:[0,500]}),c.jsx(ya,{dataKey:"name",type:"category"}),c.jsx(ba,{formatter:e=>[e.toFixed(1)+"%","ROI"]}),c.jsx(Ca,{dataKey:"roi",fill:"#8884d8",children:jt.map(((e,a)=>c.jsx(ka,{fill:St[a%St.length]},`cell-${a}`)))})]})})})]}),c.jsxs(B,{item:!0,xs:12,md:6,children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Revenue Distribution"}),c.jsx(g,{sx:{height:300},children:c.jsx(pa,{width:"100%",height:"100%",children:c.jsxs(wa,{children:[c.jsx(Aa,{data:jt,cx:"50%",cy:"50%",labelLine:!0,outerRadius:100,fill:"#8884d8",dataKey:"revenue",nameKey:"name",label:({name:e,percent:a})=>`${e}: ${(100*a).toFixed(1)}%`,children:jt.map(((e,a)=>c.jsx(ka,{fill:St[a%St.length]},`cell-${a}`)))}),c.jsx(ba,{formatter:e=>["$"+e.toLocaleString(),"Revenue"]})]})})})]})]})}),c.jsx(ft,{value:t,index:1,children:c.jsxs(B,{container:!0,spacing:3,children:[c.jsxs(B,{item:!0,xs:12,children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Channel Performance Comparison"}),c.jsx(te,{component:q,children:c.jsxs(ie,{children:[c.jsx(ne,{children:c.jsxs(se,{children:[c.jsx(re,{children:"Channel"}),c.jsx(re,{align:"right",children:"Spend"}),c.jsx(re,{align:"right",children:"Revenue"}),c.jsx(re,{align:"right",children:"ROI"}),c.jsx(re,{align:"right",children:"CPA"}),c.jsx(re,{align:"right",children:"Performance"})]})}),c.jsx(le,{children:jt.map((e=>c.jsxs(se,{children:[c.jsx(re,{component:"th",scope:"row",children:e.name}),c.jsxs(re,{align:"right",children:["$",e.spend.toLocaleString()]}),c.jsxs(re,{align:"right",children:["$",e.revenue.toLocaleString()]}),c.jsx(re,{align:"right",children:c.jsx(z,{label:`${e.roi.toFixed(1)}%`,color:e.roi>200?"success":"primary",size:"small"})}),c.jsxs(re,{align:"right",children:["$",e.cpa.toFixed(2)]}),c.jsx(re,{align:"right",children:c.jsx(z,{label:e.roi>300?"Excellent":e.roi>200?"Good":"Average",color:e.roi>300?"success":e.roi>200?"primary":"default",size:"small"})})]},e.name)))})]})})]}),c.jsxs(B,{item:!0,xs:12,md:6,children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Spend vs. Revenue by Channel"}),c.jsx(g,{sx:{height:350},children:c.jsx(pa,{width:"100%",height:"100%",children:c.jsxs(ga,{data:jt,margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(ja,{strokeDasharray:"3 3"}),c.jsx(va,{dataKey:"name"}),c.jsx(ya,{}),c.jsx(ba,{formatter:e=>["$"+e.toLocaleString(),""]}),c.jsx(fa,{}),c.jsx(Ca,{dataKey:"spend",name:"Spend",fill:"#8884d8"}),c.jsx(Ca,{dataKey:"revenue",name:"Revenue",fill:"#82ca9d"})]})})})]}),c.jsxs(B,{item:!0,xs:12,md:6,children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"ROI vs. CPA Analysis"}),c.jsx(g,{sx:{height:350},children:c.jsx(pa,{width:"100%",height:"100%",children:c.jsxs(Ia,{margin:{top:20,right:20,bottom:20,left:20},children:[c.jsx(ja,{}),c.jsx(va,{type:"number",dataKey:"cpa",name:"CPA",domain:[10,35],label:{value:"CPA ($)",position:"bottom"}}),c.jsx(ya,{type:"number",dataKey:"roi",name:"ROI",domain:[150,450],label:{value:"ROI (%)",angle:-90,position:"insideLeft"}}),c.jsx(Ta,{type:"number",range:[100,500],dataKey:"spend"}),c.jsx(ba,{cursor:{strokeDasharray:"3 3"},formatter:e=>e}),c.jsx(fa,{}),c.jsx(Ra,{name:"Channels",data:jt,fill:"#8884d8",children:jt.map(((e,a)=>c.jsx(ka,{fill:St[a%St.length]},`cell-${a}`)))})]})})})]})]})}),c.jsx(ft,{value:t,index:2,children:c.jsx(B,{container:!0,spacing:3,children:c.jsxs(B,{item:!0,xs:12,children:[c.jsx(g,{sx:{mb:3,display:"flex",justifyContent:"center"},children:c.jsxs(oe,{value:r,exclusive:!0,onChange:(e,a)=>{null!==a&&o(a)},"aria-label":"attribution model",children:[c.jsx(ce,{value:"First Touch",children:"First Touch"}),c.jsx(ce,{value:"Last Touch",children:"Last Touch"}),c.jsx(ce,{value:"Linear",children:"Linear"}),c.jsx(ce,{value:"Position Based",children:"Position Based"})]})}),c.jsxs(p,{variant:"h6",gutterBottom:!0,children:["Attribution Model: ",r]}),c.jsx(g,{sx:{height:400},children:c.jsx(pa,{width:"100%",height:"100%",children:c.jsxs(ga,{data:yt[r],margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(ja,{strokeDasharray:"3 3"}),c.jsx(va,{dataKey:"channel"}),c.jsx(ya,{domain:[0,40]}),c.jsx(ba,{formatter:e=>[`${e}%`,"Conversion Attribution"]}),c.jsx(fa,{}),c.jsx(Ca,{dataKey:"value",name:"Attribution %",fill:"#8884d8",children:yt[r].map(((e,a)=>c.jsx(ka,{fill:St[a%St.length]},`cell-${a}`)))})]})})})]})})}),c.jsx(ft,{value:t,index:3,children:c.jsx(B,{container:!0,spacing:3,children:c.jsxs(B,{item:!0,xs:12,children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Top Conversion Paths"}),c.jsx(te,{component:q,children:c.jsxs(ie,{children:[c.jsx(ne,{children:c.jsxs(se,{children:[c.jsx(re,{children:"Path"}),c.jsx(re,{align:"right",children:"Conversions"}),c.jsx(re,{align:"right",children:"Percentage"}),c.jsx(re,{align:"right",children:"Avg. Value"}),c.jsx(re,{align:"right",children:"Total Revenue"})]})}),c.jsx(le,{children:vt.map((e=>c.jsxs(se,{children:[c.jsx(re,{component:"th",scope:"row",children:e.name}),c.jsx(re,{align:"right",children:e.value}),c.jsxs(re,{align:"right",children:[e.percentage,"%"]}),c.jsxs(re,{align:"right",children:["$",e.avgValue]}),c.jsxs(re,{align:"right",children:["$",(e.value*e.avgValue).toLocaleString()]})]},e.name)))})]})})]})})}),c.jsx(ft,{value:t,index:4,children:c.jsx(B,{container:!0,spacing:3,children:c.jsxs(B,{item:!0,xs:12,children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"ROAS Optimization Recommendations"}),c.jsx(te,{component:q,children:c.jsxs(ie,{children:[c.jsx(ne,{children:c.jsxs(se,{children:[c.jsx(re,{children:"Channel"}),c.jsx(re,{align:"right",children:"Current Budget"}),c.jsx(re,{align:"right",children:"Recommended Budget"}),c.jsx(re,{align:"right",children:"Projected ROI"}),c.jsx(re,{align:"right",children:"Improvement"}),c.jsx(re,{children:"Recommendation"})]})}),c.jsx(le,{children:bt.map((e=>c.jsxs(se,{children:[c.jsx(re,{component:"th",scope:"row",children:e.channel}),c.jsxs(re,{align:"right",children:["$",e.currentBudget]}),c.jsxs(re,{align:"right",children:["$",e.recommendedBudget]}),c.jsxs(re,{align:"right",children:[e.projected_roi.toFixed(1),"%"]}),c.jsx(re,{align:"right",children:c.jsx(z,{label:e.improvement,color:"success",size:"small"})}),c.jsx(re,{children:e.action})]},e.channel)))})]})})]})})})]})]})}},Symbol.toStringTag,{value:"Module"})),wt=({campaignData:e,competitors:a,detailed:t=!1})=>{var i,n,s,r,l;de();const o=[{id:0,value:e.shareOfVoice||35,label:"Your Campaign"},...a.map(((e,a)=>({id:a+1,value:e.shareOfVoice,label:e.name})))],d={your:[30,32,33,35,36,35],comp1:[28,27,28,27,29,28],comp2:[20,18,17,16,17,18],comp3:[12,13,12,11,10,12],other:[10,10,10,11,8,7]},h={total:250,ranking:{top3:35,top10:120,above50:95},trendingKeywords:[{keyword:"digital marketing tools",position:2,volume:5400},{keyword:"marketing automation",position:5,volume:3200},{keyword:"social media campaigns",position:7,volume:2900},{keyword:"email marketing platform",position:12,volume:1800},{keyword:"campaign analytics",position:15,volume:1500}]};return t?c.jsx(g,{children:c.jsxs(B,{container:!0,spacing:3,children:[c.jsx(B,{item:!0,xs:12,md:6,children:c.jsxs(q,{elevation:2,sx:{p:2,height:"100%"},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Current Share of Voice"}),c.jsx(g,{sx:{height:300,width:"100%"},children:c.jsx(he,{series:[{data:o,innerRadius:30,outerRadius:100,paddingAngle:1,cornerRadius:5}],height:300})})]})}),c.jsx(B,{item:!0,xs:12,md:6,children:c.jsxs(q,{elevation:2,sx:{p:2,height:"100%"},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Share of Voice by Channel"}),c.jsx(g,{sx:{height:300,width:"100%"},children:c.jsx(me,{xAxis:[{scaleType:"band",data:["Search","Social","Display","Video"]}],series:[{data:[40,30,35,25],label:"Your Campaign"},{data:[30,40,20,30],label:(null==(i=a[0])?void 0:i.name)||"Competitor A"},{data:[20,25,30,15],label:(null==(n=a[1])?void 0:n.name)||"Competitor B"}],height:300})})]})}),c.jsx(B,{item:!0,xs:12,children:c.jsxs(q,{elevation:2,sx:{p:2},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Monthly Trend"}),c.jsx(g,{sx:{height:400,width:"100%"},children:c.jsx(me,{xAxis:[{scaleType:"band",data:["Jan","Feb","Mar","Apr","May","Jun"]}],series:[{data:d.your,label:"Your Campaign"},{data:d.comp1,label:(null==(s=a[0])?void 0:s.name)||"Competitor A"},{data:d.comp2,label:(null==(r=a[1])?void 0:r.name)||"Competitor B"},{data:d.comp3,label:(null==(l=a[2])?void 0:l.name)||"Competitor C"},{data:d.other,label:"Others"}],height:350})})]})}),c.jsx(B,{item:!0,xs:12,md:6,children:c.jsxs(q,{elevation:2,sx:{p:2,height:"100%"},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Keyword Position Distribution"}),c.jsx(g,{sx:{height:300,width:"100%"},children:c.jsx(he,{series:[{data:[{id:0,value:h.ranking.top3,label:"Top 3"},{id:1,value:h.ranking.top10-h.ranking.top3,label:"Top 4-10"},{id:2,value:h.ranking.above50-h.ranking.top10,label:"Top 11-50"}],innerRadius:30,outerRadius:100,paddingAngle:1,cornerRadius:5}],height:300})})]})}),c.jsx(B,{item:!0,xs:12,md:6,children:c.jsxs(q,{elevation:2,sx:{p:2,height:"100%"},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Top Performing Keywords"}),c.jsx(g,{sx:{mt:2},children:h.trendingKeywords.map(((e,a)=>c.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",mb:1,p:1,backgroundColor:a%2==0?"rgba(0,0,0,0.03)":"transparent"},children:[c.jsx(p,{variant:"body2",sx:{flex:3},children:e.keyword}),c.jsxs(p,{variant:"body2",sx:{flex:1,textAlign:"center"},children:["Position: ",e.position]}),c.jsxs(p,{variant:"body2",sx:{flex:1,textAlign:"right"},children:["Volume: ",e.volume.toLocaleString()]})]},a)))})]})})]})}):c.jsxs(g,{children:[c.jsx(g,{sx:{height:300,width:"100%"},children:c.jsx(he,{series:[{data:o,innerRadius:30,outerRadius:100,paddingAngle:1,cornerRadius:5,startAngle:-90,endAngle:270,cx:150,cy:150}],slotProps:{legend:{direction:"column",position:{vertical:"middle",horizontal:"right"},padding:20}},height:300})}),c.jsx(p,{variant:"body2",sx:{mt:2,textAlign:"center"},children:"Current share of voice compared to top competitors"})]})},At=[{id:"ad1",competitor:"Competitor A",platform:"facebook",title:"Boost Your Marketing ROI",description:"Our all-in-one marketing platform helps businesses increase their ROI by up to 45%. Try it free for 14 days!",imageUrl:"https://placehold.co/600x400/2196f3/ffffff?text=Marketing+ROI",dateDetected:"2023-06-10",keywords:["marketing roi","marketing platform","business growth"],estimatedSpend:5e3,engagement:{likes:245,comments:32,shares:78}},{id:"ad2",competitor:"Competitor B",platform:"google",title:"AI-Powered Marketing Tools",description:"Leverage artificial intelligence to optimize your marketing campaigns. Get started today with our award-winning platform.",imageUrl:"https://placehold.co/600x400/4caf50/ffffff?text=AI+Marketing",dateDetected:"2023-06-12",keywords:["ai marketing","marketing automation","campaign optimization"],estimatedSpend:7500,engagement:{clicks:3200,impressions:125e3,ctr:2.56}},{id:"ad3",competitor:"Competitor C",platform:"instagram",title:"Create Stunning Social Media Campaigns",description:"Design eye-catching social media campaigns that convert. Used by top brands worldwide.",imageUrl:"https://placehold.co/600x400/ff9800/ffffff?text=Social+Media",dateDetected:"2023-06-15",keywords:["social media","campaign design","social conversion"],estimatedSpend:3200,engagement:{likes:1245,comments:132,shares:278}},{id:"ad4",competitor:"Competitor A",platform:"linkedin",title:"Enterprise Marketing Suite",description:"Trusted by Fortune 500 companies. Our enterprise marketing suite provides everything you need to scale your marketing efforts.",imageUrl:"https://placehold.co/600x400/9c27b0/ffffff?text=Enterprise+Marketing",dateDetected:"2023-06-16",keywords:["enterprise marketing","marketing suite","fortune 500"],estimatedSpend:8500,engagement:{likes:145,comments:22,shares:38}},{id:"ad5",competitor:"Competitor B",platform:"twitter",title:"24/7 Marketing Analytics",description:"Real-time marketing analytics that help you make better decisions. Monitor your campaigns around the clock.",imageUrl:"https://placehold.co/600x400/e91e63/ffffff?text=Marketing+Analytics",dateDetected:"2023-06-18",keywords:["marketing analytics","real-time monitoring","campaign insights"],estimatedSpend:4200,engagement:{likes:98,retweets:25,replies:12}},{id:"ad6",competitor:"Competitor C",platform:"google",title:"Multi-Channel Marketing Platform",description:"Reach your audience across every channel with our integrated marketing platform. Seamless coordination of all your campaigns.",imageUrl:"https://placehold.co/600x400/607d8b/ffffff?text=Multi+Channel",dateDetected:"2023-06-20",keywords:["multi-channel marketing","integrated platform","campaign coordination"],estimatedSpend:6300,engagement:{clicks:2800,impressions:95e3,ctr:2.95}}],It=()=>{de();const[e,a]=l.useState("all"),[t,i]=l.useState("all"),[n,s]=l.useState(""),[r,o]=l.useState([]),[d,h]=l.useState([]),[m,x]=l.useState(1),u=At.filter((a=>("all"===e||a.platform===e)&&(("all"===t||a.competitor===t)&&!(n&&!a.title.toLowerCase().includes(n.toLowerCase())&&!a.description.toLowerCase().includes(n.toLowerCase())&&!a.keywords.some((e=>e.toLowerCase().includes(n.toLowerCase()))))))),j=3*m,v=j-3,y=u.slice(v,j),C=e=>{switch(e){case"facebook":return c.jsx(ke,{});case"instagram":return c.jsx(Se,{});case"google":return c.jsx(Ce,{});case"linkedin":return c.jsx(fe,{});case"twitter":return c.jsx(be,{});default:return null}},k=e=>{switch(e){case"facebook":return"Facebook";case"instagram":return"Instagram";case"google":return"Google Ads";case"linkedin":return"LinkedIn";case"twitter":return"Twitter";default:return e}},R=Array.from(new Set(At.map((e=>e.competitor))));return c.jsxs(g,{children:[c.jsxs(g,{sx:{mb:4,p:2,backgroundColor:"background.paper",borderRadius:1},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Competitor Ad Monitoring"}),c.jsxs(B,{container:!0,spacing:2,alignItems:"center",children:[c.jsx(B,{item:!0,xs:12,sm:4,md:3,children:c.jsxs(w,{fullWidth:!0,size:"small",children:[c.jsx(A,{id:"platform-filter-label",children:"Platform"}),c.jsxs(I,{labelId:"platform-filter-label",id:"platform-filter",value:e,label:"Platform",onChange:e=>{a(e.target.value),x(1)},children:[c.jsx(T,{value:"all",children:"All Platforms"}),c.jsx(T,{value:"facebook",children:"Facebook"}),c.jsx(T,{value:"instagram",children:"Instagram"}),c.jsx(T,{value:"google",children:"Google Ads"}),c.jsx(T,{value:"linkedin",children:"LinkedIn"}),c.jsx(T,{value:"twitter",children:"Twitter"})]})]})}),c.jsx(B,{item:!0,xs:12,sm:4,md:3,children:c.jsxs(w,{fullWidth:!0,size:"small",children:[c.jsx(A,{id:"competitor-filter-label",children:"Competitor"}),c.jsxs(I,{labelId:"competitor-filter-label",id:"competitor-filter",value:t,label:"Competitor",onChange:e=>{i(e.target.value),x(1)},children:[c.jsx(T,{value:"all",children:"All Competitors"}),R.map(((e,a)=>c.jsx(T,{value:e,children:e},a)))]})]})}),c.jsx(B,{item:!0,xs:12,sm:4,md:6,children:c.jsx(b,{fullWidth:!0,size:"small",placeholder:"Search by keyword, title or description",value:n,onChange:e=>{s(e.target.value),x(1)},InputProps:{startAdornment:c.jsx(f,{position:"start",children:c.jsx(xe,{})})}})})]})]}),0===u.length?c.jsxs(g,{sx:{textAlign:"center",py:4},children:[c.jsx(p,{variant:"h6",color:"text.secondary",children:"No ads found matching your criteria."}),c.jsx(p,{variant:"body1",color:"text.secondary",children:"Try adjusting your filters or search term."})]}):c.jsxs(c.Fragment,{children:[c.jsx(g,{sx:{mb:2},children:c.jsxs(p,{variant:"body2",color:"text.secondary",children:["Found ",u.length," competitor ads"]})}),y.map((e=>c.jsx(L,{sx:{mb:3,overflow:"visible"},children:c.jsxs(B,{container:!0,children:[c.jsx(B,{item:!0,xs:12,md:4,children:c.jsx(ue,{component:"img",image:e.imageUrl,alt:e.title,sx:{height:{xs:200,md:"100%"},minHeight:{md:250}}})}),c.jsx(B,{item:!0,xs:12,md:8,children:c.jsxs(P,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[c.jsxs(g,{sx:{mb:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(z,{icon:C(e.platform),label:k(e.platform),size:"small"}),c.jsxs(p,{variant:"caption",color:"text.secondary",children:["Detected: ",new Date(e.dateDetected).toLocaleDateString()]})]}),c.jsxs(g,{children:[c.jsx(S,{size:"small",color:r.includes(e.id)?"primary":"default",onClick:()=>{return a=e.id,void(r.includes(a)?o(r.filter((e=>e!==a))):o([...r,a]));var a},title:r.includes(e.id)?"Remove from saved":"Save ad",children:r.includes(e.id)?c.jsx(pe,{}):c.jsx(ge,{})}),c.jsx(S,{size:"small",color:d.includes(e.id)?"primary":"default",onClick:()=>{return a=e.id,void(d.includes(a)?h(d.filter((e=>e!==a))):h([...d,a]));var a},title:d.includes(e.id)?"Remove alert":"Get alerts for similar ads",children:d.includes(e.id)?c.jsx(je,{}):c.jsx(ve,{})})]})]}),c.jsx(p,{variant:"h6",gutterBottom:!0,component:"div",children:e.title}),c.jsx(p,{variant:"subtitle2",color:"primary.main",gutterBottom:!0,children:e.competitor}),c.jsx(p,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),c.jsx(g,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mb:2},children:e.keywords.map(((e,a)=>c.jsx(z,{label:e,size:"small",variant:"outlined"},a)))}),c.jsxs(g,{sx:{mt:"auto"},children:[c.jsx(F,{sx:{mb:2}}),c.jsxs(B,{container:!0,spacing:2,children:[c.jsxs(B,{item:!0,xs:6,children:[c.jsx(p,{variant:"body2",color:"text.secondary",children:"Estimated Spend"}),c.jsxs(p,{variant:"body1",fontWeight:"bold",children:["$",e.estimatedSpend.toLocaleString()]})]}),c.jsxs(B,{item:!0,xs:6,children:[c.jsx(p,{variant:"body2",color:"text.secondary",children:"Engagement"}),c.jsxs(p,{variant:"body1",children:[void 0!==e.engagement.likes&&`${e.engagement.likes.toLocaleString()} likes`,void 0!==e.engagement.clicks&&`${e.engagement.clicks.toLocaleString()} clicks`]})]})]})]})]})})]})},e.id))),c.jsx(g,{sx:{display:"flex",justifyContent:"center",mt:4},children:c.jsx(ye,{count:Math.ceil(u.length/3),page:m,onChange:(e,a)=>{x(a)},color:"primary"})})]})]})},Tt=({campaignData:e,competitors:a})=>{const t=de(),i=[{name:"Your Campaign",ctr:3.2,cpc:1.25,conversions:520,conversionRate:4.8,roas:3.5},...a.map((e=>({name:e.name,...e.performance,conversionRate:e.performance.conversions/(1e3*e.performance.ctr)*100,roas:2*Math.random()+1.5})))];return c.jsxs(g,{children:[c.jsx(te,{component:q,sx:{mb:4},children:c.jsxs(ie,{size:"small",children:[c.jsx(ne,{children:c.jsxs(se,{sx:{backgroundColor:t.palette.primary.light},children:[c.jsx(re,{children:c.jsx(p,{variant:"subtitle2",children:"Campaign"})}),c.jsx(re,{align:"right",children:c.jsx(p,{variant:"subtitle2",children:"CTR (%)"})}),c.jsx(re,{align:"right",children:c.jsx(p,{variant:"subtitle2",children:"CPC ($)"})}),c.jsx(re,{align:"right",children:c.jsx(p,{variant:"subtitle2",children:"Conversions"})}),c.jsx(re,{align:"right",children:c.jsx(p,{variant:"subtitle2",children:"Conv. Rate (%)"})}),c.jsx(re,{align:"right",children:c.jsx(p,{variant:"subtitle2",children:"ROAS"})})]})}),c.jsx(le,{children:i.map(((e,a)=>c.jsxs(se,{sx:{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},...0===a?{backgroundColor:t.palette.primary.lighter||"rgba(0, 0, 255, 0.08)"}:{}},children:[c.jsx(re,{component:"th",scope:"row",children:c.jsx(p,{variant:"body2",fontWeight:0===a?"bold":"normal",children:e.name})}),c.jsx(re,{align:"right",children:e.ctr.toFixed(1)}),c.jsxs(re,{align:"right",children:["$",e.cpc.toFixed(2)]}),c.jsx(re,{align:"right",children:e.conversions}),c.jsx(re,{align:"right",children:e.conversionRate.toFixed(1)}),c.jsxs(re,{align:"right",children:[e.roas.toFixed(1),"x"]})]},a)))})]})}),c.jsx(p,{variant:"subtitle2",gutterBottom:!0,children:"Key Metrics Comparison"}),c.jsx(g,{sx:{height:300,width:"100%"},children:c.jsx(me,{xAxis:[{scaleType:"band",data:i.map((e=>e.name))}],series:[{data:i.map((e=>e.ctr)),label:"CTR (%)"}],height:300})})]})},Rt=({campaignData:e,industryCategory:a,detailed:t=!1})=>{const i=de(),[n,s]=l.useState("month"),[r,o]=l.useState("ctr"),[d,h]=l.useState(a),m={general:{ctr:1.8,cpc:1.85,convRate:3.2,roas:2.2},technology:{ctr:2.1,cpc:2.35,convRate:3.7,roas:2.5},ecommerce:{ctr:1.5,cpc:1.45,convRate:2.8,roas:2.9},finance:{ctr:1.2,cpc:3.25,convRate:4.1,roas:1.8},education:{ctr:2.4,cpc:1.75,convRate:3.5,roas:2.1},healthcare:{ctr:1.9,cpc:2.15,convRate:2.9,roas:2.3}},x={ctr:3.2,cpc:1.25,convRate:4.8,roas:3.5},u={campaign:{ctr:[2.8,2.9,3,3.1,3.2,3.2],cpc:[1.4,1.35,1.3,1.28,1.25,1.25],convRate:[4.2,4.3,4.5,4.6,4.7,4.8],roas:[3.1,3.2,3.3,3.4,3.5,3.5]},industry:{ctr:[1.7,1.7,1.8,1.8,1.8,1.9],cpc:[1.9,1.88,1.87,1.86,1.85,1.84],convRate:[3,3,3.1,3.1,3.2,3.2],roas:[2,2.1,2.1,2.2,2.2,2.3]}},j={ctr:"Click-Through Rate (%)",cpc:"Cost Per Click ($)",convRate:"Conversion Rate (%)",roas:"Return on Ad Spend (x)"},v=(e,a)=>{null!==a&&o(a)};return t?c.jsx(g,{children:c.jsxs(B,{container:!0,spacing:3,children:[c.jsx(B,{item:!0,xs:12,children:c.jsxs(q,{elevation:2,sx:{p:2},children:[c.jsxs(g,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[c.jsx(p,{variant:"h6",children:"Performance vs. Industry Benchmarks"}),c.jsxs(g,{sx:{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap"},children:[c.jsxs(w,{size:"small",sx:{minWidth:150},children:[c.jsx(A,{id:"industry-select-label",children:"Industry"}),c.jsxs(I,{labelId:"industry-select-label",id:"industry-select",value:d,label:"Industry",onChange:e=>{h(e.target.value)},children:[c.jsx(T,{value:"general",children:"General"}),c.jsx(T,{value:"technology",children:"Technology"}),c.jsx(T,{value:"ecommerce",children:"E-commerce"}),c.jsx(T,{value:"finance",children:"Finance"}),c.jsx(T,{value:"education",children:"Education"}),c.jsx(T,{value:"healthcare",children:"Healthcare"})]})]}),c.jsxs(oe,{color:"primary",value:r,exclusive:!0,onChange:v,size:"small",children:[c.jsx(ce,{value:"ctr",children:"CTR"}),c.jsx(ce,{value:"cpc",children:"CPC"}),c.jsx(ce,{value:"convRate",children:"Conv. Rate"}),c.jsx(ce,{value:"roas",children:"ROAS"})]}),c.jsxs(oe,{color:"primary",value:n,exclusive:!0,onChange:(e,a)=>{null!==a&&s(a)},size:"small",children:[c.jsx(ce,{value:"month",children:"Last 6 Months"}),c.jsx(ce,{value:"quarter",children:"Quarterly"}),c.jsx(ce,{value:"year",children:"Yearly"})]})]})]}),c.jsx(g,{sx:{height:400,width:"100%"},children:c.jsx(we,{xAxis:[{scaleType:"band",data:["Jan","Feb","Mar","Apr","May","Jun"]}],series:[{data:u.campaign[r],label:"Your Campaign",curve:"linear"},{data:u.industry[r],label:`${d.charAt(0).toUpperCase()+d.slice(1)} Industry Average`,curve:"linear"}],height:400})})]})}),c.jsx(B,{item:!0,xs:12,children:c.jsxs(q,{elevation:2,sx:{p:2},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"All Metrics Comparison"}),c.jsx(g,{sx:{height:400,width:"100%"},children:c.jsx(me,{xAxis:[{scaleType:"band",data:["CTR (%)","CPC ($)","Conv. Rate (%)","ROAS (x)"]}],series:[{data:[x.ctr,x.cpc,x.convRate,x.roas],label:"Your Campaign"},{data:[m[d].ctr,m[d].cpc,m[d].convRate,m[d].roas],label:`${d.charAt(0).toUpperCase()+d.slice(1)} Industry Average`}],height:400})}),c.jsxs(p,{variant:"body2",color:"text.secondary",sx:{mt:2,fontStyle:"italic"},children:["Data sources: Market research, industry reports, and aggregated anonymous performance data. Last updated: ",(new Date).toLocaleDateString()]})]})})]})}):c.jsxs(g,{children:[c.jsxs(g,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs(p,{variant:"subtitle2",children:["Your performance vs. ",d," industry average"]}),c.jsxs(oe,{color:"primary",value:r,exclusive:!0,onChange:v,size:"small",children:[c.jsx(ce,{value:"ctr",children:"CTR"}),c.jsx(ce,{value:"cpc",children:"CPC"}),c.jsx(ce,{value:"convRate",children:"Conv. Rate"}),c.jsx(ce,{value:"roas",children:"ROAS"})]})]}),c.jsx(g,{sx:{height:300,width:"100%"},children:c.jsx(me,{xAxis:[{scaleType:"band",data:["Your Campaign",`${d.charAt(0).toUpperCase()+d.slice(1)} Industry Average`]}],series:[{data:[x[r],m[d][r]],label:j[r]}],colors:[i.palette.primary.main,i.palette.grey[400]],height:300})})]})},Dt=({campaignId:e})=>{const[a,t]=l.useState(!0),[i,n]=l.useState(!0),[s,r]=l.useState(!0),[o,d]=l.useState(!0),[h,m]=l.useState(["marketing automation","campaign management","marketing ROI","social analytics"]),[x,u]=l.useState(""),[v,y]=l.useState(!1),[f,C]=l.useState(""),[k,R]=l.useState(null),[D,B]=l.useState("daily"),L=()=>{x.trim()&&!h.includes(x.trim())&&(m([...h,x.trim()]),u(""))},P=()=>{y(!1),C(""),R(null)};return c.jsxs(g,{children:[c.jsxs(p,{variant:"h6",gutterBottom:!0,display:"flex",alignItems:"center",gap:1,children:[c.jsx(Ae,{})," Benchmark Alert Settings"]}),c.jsx(Ie,{control:c.jsx(Te,{checked:a,onChange:()=>{t(!a)},color:"primary"}),label:"Enable benchmark & competitor alerts",sx:{mb:2}}),c.jsx(F,{sx:{mb:2}}),c.jsxs(g,{sx:{opacity:a?1:.5,pointerEvents:a?"auto":"none"},children:[c.jsx(p,{variant:"subtitle1",gutterBottom:!0,children:"Alert Types"}),c.jsx(Ie,{control:c.jsx(Te,{checked:i,onChange:()=>{n(!i)},color:"primary",size:"small"}),label:"Competitor Ad Alerts"}),c.jsx(p,{variant:"body2",color:"text.secondary",sx:{mb:2,pl:4},children:"Get notified when competitors launch new ads or make significant changes"}),c.jsx(Ie,{control:c.jsx(Te,{checked:s,onChange:()=>{r(!s)},color:"primary",size:"small"}),label:"Benchmark Deviation Alerts"}),c.jsx(p,{variant:"body2",color:"text.secondary",sx:{mb:2,pl:4},children:"Get notified when your performance deviates significantly from industry benchmarks"}),c.jsx(F,{sx:{mb:2}}),c.jsx(p,{variant:"subtitle1",gutterBottom:!0,children:"Notification Preferences"}),c.jsxs(g,{sx:{mb:2},children:[c.jsxs(w,{fullWidth:!0,size:"small",sx:{mb:2},children:[c.jsx(A,{id:"alert-frequency-label",children:"Alert Frequency"}),c.jsxs(I,{labelId:"alert-frequency-label",id:"alert-frequency",value:D,label:"Alert Frequency",onChange:e=>{B(e.target.value)},children:[c.jsx(T,{value:"realtime",children:"Real-time"}),c.jsx(T,{value:"daily",children:"Daily Digest"}),c.jsx(T,{value:"weekly",children:"Weekly Summary"})]})]}),c.jsx(Ie,{control:c.jsx(Te,{checked:o,onChange:()=>{d(!o)},color:"primary",size:"small"}),label:"Email Notifications"})]}),c.jsx(F,{sx:{mb:2}}),c.jsx(p,{variant:"subtitle1",gutterBottom:!0,children:"Keyword Monitoring"}),c.jsx(p,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Get alerted when competitors use these keywords in their ads"}),c.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:2},children:[c.jsx(b,{fullWidth:!0,size:"small",placeholder:"Add keyword to monitor",value:x,onChange:e=>u(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),L())}}),c.jsx(S,{color:"primary",onClick:L,disabled:!x.trim()||h.includes(x.trim()),children:c.jsx(Re,{})})]}),c.jsx(q,{variant:"outlined",sx:{p:2,mb:3},children:c.jsxs(De,{dense:!0,children:[h.map(((e,a)=>c.jsxs(Be,{children:[c.jsx(Le,{primary:e}),c.jsxs(Pe,{children:[c.jsx(S,{edge:"end",size:"small",onClick:()=>((e,a)=>{C(e),R(a),y(!0)})(e,a),children:c.jsx(ze,{fontSize:"small"})}),c.jsx(S,{edge:"end",size:"small",onClick:()=>(e=>{const a=[...h];a.splice(e,1),m(a)})(a),children:c.jsx(Fe,{fontSize:"small"})})]})]},a))),0===h.length&&c.jsx(Be,{children:c.jsx(Le,{primary:"No keywords added",primaryTypographyProps:{color:"text.secondary",fontStyle:"italic"}})})]})}),c.jsx(j,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>alert("Preferences saved successfully!"),children:"Save Alert Preferences"})]}),c.jsxs($e,{open:v,onClose:P,children:[c.jsx(Ee,{children:"Edit Keyword"}),c.jsx(Me,{children:c.jsx(b,{autoFocus:!0,margin:"dense",fullWidth:!0,value:f,onChange:e=>C(e.target.value),placeholder:"Keyword"})}),c.jsxs(We,{children:[c.jsx(j,{onClick:P,children:"Cancel"}),c.jsx(j,{onClick:()=>{if(null!==k&&f.trim()&&!h.includes(f.trim())){const e=[...h];e[k]=f.trim(),m(e),P()}},variant:"contained",color:"primary",disabled:!f.trim()||f.trim()!==h[k||0]&&h.includes(f.trim()),children:"Update"})]})]})]})};function Bt(e){const{children:a,value:t,index:i,...n}=e;return c.jsx("div",{role:"tabpanel",hidden:t!==i,id:`benchmark-tabpanel-${i}`,"aria-labelledby":`benchmark-tab-${i}`,...n,children:t===i&&c.jsx(g,{sx:{p:3},children:a})})}function Lt(e){return{id:`benchmark-tab-${e}`,"aria-controls":`benchmark-tabpanel-${e}`}}const Pt=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[e,a]=l.useState(0),[t,i]=l.useState(!0),[n,s]=l.useState(null),[o,d]=l.useState([]),{id:h}=r();de(),l.useEffect((()=>{(async()=>{if(h){i(!0);try{const e=await La.getCampaignById(h);s(e);d([{id:"comp1",name:"Competitor A",shareOfVoice:28,performance:{ctr:2.8,cpc:1.35,conversions:450}},{id:"comp2",name:"Competitor B",shareOfVoice:18,performance:{ctr:2.1,cpc:1.65,conversions:320}},{id:"comp3",name:"Competitor C",shareOfVoice:12,performance:{ctr:1.9,cpc:2.05,conversions:210}}])}catch(e){}finally{i(!1)}}})()}),[h]);return t?c.jsx(g,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:c.jsx(R,{})}):n?c.jsxs(g,{sx:{flexGrow:1,p:3},children:[c.jsx(p,{variant:"h4",gutterBottom:!0,children:"Competitor Benchmark Analysis"}),c.jsxs(p,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:["Campaign: ",n.name]}),c.jsx(g,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:c.jsxs(J,{value:e,onChange:(e,t)=>{a(t)},"aria-label":"benchmark tabs",children:[c.jsx(X,{label:"Overview",...Lt(0)}),c.jsx(X,{label:"Share of Voice",...Lt(1)}),c.jsx(X,{label:"Competitor Ads",...Lt(2)}),c.jsx(X,{label:"Industry Benchmarks",...Lt(3)})]})}),c.jsx(Bt,{value:e,index:0,children:c.jsxs(B,{container:!0,spacing:3,children:[c.jsx(B,{item:!0,xs:12,md:6,children:c.jsxs(q,{elevation:2,sx:{p:2,height:"100%"},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Performance Comparison"}),c.jsx(Tt,{campaignData:n,competitors:o})]})}),c.jsx(B,{item:!0,xs:12,md:6,children:c.jsxs(q,{elevation:2,sx:{p:2,height:"100%"},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Share of Voice Summary"}),c.jsx(wt,{campaignData:n,competitors:o})]})}),c.jsx(B,{item:!0,xs:12,children:c.jsxs(q,{elevation:2,sx:{p:2},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Industry Benchmark Comparison"}),c.jsx(Rt,{campaignData:n,industryCategory:n.industry||"general"})]})})]})}),c.jsx(Bt,{value:e,index:1,children:c.jsx(wt,{campaignData:n,competitors:o,detailed:!0})}),c.jsx(Bt,{value:e,index:2,children:c.jsx(It,{})}),c.jsx(Bt,{value:e,index:3,children:c.jsxs(B,{container:!0,spacing:3,children:[c.jsx(B,{item:!0,xs:12,children:c.jsx(Rt,{campaignData:n,industryCategory:n.industry||"general",detailed:!0})}),c.jsx(B,{item:!0,xs:12,children:c.jsx(q,{elevation:2,sx:{p:2},children:c.jsx(Dt,{campaignId:h})})})]})})]}):c.jsx(g,{sx:{p:3},children:c.jsx(p,{variant:"h5",children:"Campaign not found"})})}},Symbol.toStringTag,{value:"Module"})),zt=[{id:"1",name:"Monthly Campaign Performance",description:"Overview of all campaign metrics for the current month",created:"2023-06-01",lastRun:"2023-06-15",metrics:["impressions","clicks","conversions","revenue","roas"],filters:[{name:"timeframe",value:"month"}],scheduleEnabled:!0,scheduleFrequency:"monthly",recipients:["marketing-team@example.com","executives@example.com"],type:"dashboard"},{id:"2",name:"Ad Creative Performance",description:"Analysis of ad creative performance by format and platform",created:"2023-05-12",lastRun:"2023-06-14",metrics:["ctr","engagement_rate","conversion_rate","cost_per_acquisition"],filters:[{name:"ad_format",value:"all"},{name:"platform",value:"all"}],scheduleEnabled:!1,type:"table"},{id:"3",name:"Audience Segment Analysis",description:"Detailed breakdown of performance by audience segment",created:"2023-04-22",lastRun:"2023-06-10",metrics:["reach","frequency","ctr","conversion_rate","revenue_per_user"],filters:[{name:"segments",value:"all"},{name:"timeframe",value:"quarter"}],scheduleEnabled:!0,scheduleFrequency:"weekly",recipients:["audience-team@example.com"],type:"dashboard"},{id:"4",name:"ROI Tracking Report",description:"Financial performance tracking including costs, revenue, and ROI",created:"2023-05-15",lastRun:"2023-06-12",metrics:["spend","revenue","roi","profit_margin","cpa","ltv"],filters:[{name:"campaign_type",value:"conversion"},{name:"timeframe",value:"quarter"}],scheduleEnabled:!0,scheduleFrequency:"monthly",recipients:["finance@example.com","marketing-leads@example.com"],type:"chart"}],Ft=[{value:"impressions",label:"Impressions",category:"reach"},{value:"clicks",label:"Clicks",category:"reach"},{value:"ctr",label:"Click-Through Rate",category:"reach"},{value:"conversions",label:"Conversions",category:"conversion"},{value:"conversion_rate",label:"Conversion Rate",category:"conversion"},{value:"cost_per_acquisition",label:"Cost Per Acquisition",category:"conversion"},{value:"revenue",label:"Revenue",category:"revenue"},{value:"roas",label:"Return on Ad Spend",category:"revenue"},{value:"roi",label:"Return on Investment",category:"revenue"},{value:"engagement_rate",label:"Engagement Rate",category:"engagement"},{value:"frequency",label:"Frequency",category:"reach"},{value:"reach",label:"Reach",category:"reach"},{value:"spend",label:"Spend",category:"revenue"},{value:"profit_margin",label:"Profit Margin",category:"revenue"},{value:"cpa",label:"Cost Per Action",category:"conversion"},{value:"ltv",label:"Lifetime Value",category:"revenue"},{value:"revenue_per_user",label:"Revenue Per User",category:"revenue"}],$t=[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"month",label:"This Month"},{value:"lastmonth",label:"Last Month"},{value:"quarter",label:"This Quarter"},{value:"lastquarter",label:"Last Quarter"},{value:"year",label:"This Year"},{value:"lastyear",label:"Last Year"},{value:"custom",label:"Custom Range"}],Et=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"}],Mt=[{value:"dashboard",label:"Dashboard",icon:c.jsx(H,{})},{value:"chart",label:"Chart",icon:c.jsx(Ge,{})},{value:"table",label:"Table",icon:c.jsx(Ye,{})}],Wt=[{value:"pdf",label:"PDF",icon:c.jsx(He,{})},{value:"excel",label:"Excel",icon:c.jsx(Ye,{})},{value:"csv",label:"CSV",icon:c.jsx(Je,{})}];function qt(e){const{children:a,value:t,index:i,...n}=e;return c.jsx("div",{role:"tabpanel",hidden:t!==i,id:`reports-tabpanel-${i}`,"aria-labelledby":`reports-tab-${i}`,...n,children:t===i&&c.jsx(g,{sx:{p:3},children:a})})}function Ot(e){return{id:`reports-tab-${e}`,"aria-controls":`reports-tabpanel-${e}`}}const Qt=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[e,a]=l.useState(0),[t,i]=l.useState(zt),[n,s]=l.useState(!1),[r,o]=l.useState(!1),[d,h]=l.useState(!1),[m,x]=l.useState({name:"",description:"",metrics:[],filters:[{name:"timeframe",value:"month"}],scheduleEnabled:!1,scheduleFrequency:"monthly",recipients:[],type:"dashboard"}),[u,v]=l.useState(null),[y,f]=l.useState(null),[C,k]=l.useState(!1),[D,E]=l.useState("pdf"),[M,W]=l.useState(!1),[O,Q]=l.useState("monthly"),[K,V]=l.useState([]),[N,Z]=l.useState(""),[U,G]=l.useState(!1),[Y,ee]=l.useState(!1),[ae,te]=l.useState([]),[ie,ne]=l.useState(""),se=(e,a)=>{v(e.currentTarget),f(a)},re=()=>{v(null),f(null)},le=()=>{o(!1)},oe=e=>{re(),f(e),k(!0)},ce=()=>{k(!1),f(null)},de=e=>{re();const a=t.find((a=>a.id===e));a&&(Q(a.scheduleFrequency||"monthly"),V(a.recipients||[]),f(e),W(!0))},he=()=>{W(!1),f(null)},me=()=>{N.trim()&&!K.includes(N.trim())&&(V([...K,N.trim()]),Z(""))},xe=()=>{G(!1),f(null)},ue=()=>{ee(!1)},pe=e=>{ae.includes(e)?te(ae.filter((a=>a!==e))):te([...ae,e])},ge=Ft.filter((e=>e.label.toLowerCase().includes(ie.toLowerCase())||e.category.toLowerCase().includes(ie.toLowerCase()))),je=e=>{switch(e){case"dashboard":default:return c.jsx(H,{});case"chart":return c.jsx(Ge,{});case"table":return c.jsx(Ye,{})}};return c.jsxs(g,{sx:{flexGrow:1,p:3},children:[c.jsx(p,{variant:"h4",gutterBottom:!0,children:"Custom Reports"}),c.jsx(g,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:c.jsxs(J,{value:e,onChange:(e,t)=>{a(t)},"aria-label":"report tabs",children:[c.jsx(X,{label:"My Reports",...Ot(0)}),c.jsx(X,{label:"Scheduled Reports",...Ot(1)}),c.jsx(X,{label:"Report Templates",...Ot(2)})]})}),c.jsxs(qt,{value:e,index:0,children:[c.jsx(g,{sx:{mb:3,display:"flex",justifyContent:"flex-end"},children:c.jsx(j,{variant:"contained",color:"primary",startIcon:c.jsx(Re,{}),onClick:()=>{h(!1),x({name:"",description:"",metrics:[],filters:[{name:"timeframe",value:"month"}],scheduleEnabled:!1,scheduleFrequency:"monthly",recipients:[],type:"dashboard"}),o(!0)},children:"Create New Report"})}),c.jsx(B,{container:!0,spacing:3,children:t.map((e=>c.jsx(B,{item:!0,xs:12,md:6,lg:4,children:c.jsxs(L,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[c.jsxs(P,{sx:{flexGrow:1},children:[c.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[c.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1},children:[je(e.type),c.jsx(p,{variant:"h6",component:"div",children:e.name})]}),c.jsx(S,{"aria-label":"report options",onClick:a=>se(a,e.id),size:"small",children:c.jsx(qe,{})})]}),c.jsx(p,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),c.jsxs(g,{sx:{mb:2},children:[c.jsx(p,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Key Metrics:"}),c.jsxs(g,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[e.metrics.slice(0,3).map(((e,a)=>{var t;return c.jsx(z,{label:(null==(t=Ft.find((a=>a.value===e)))?void 0:t.label)||e,size:"small",variant:"outlined"},a)})),e.metrics.length>3&&c.jsx(z,{label:`+${e.metrics.length-3} more`,size:"small",variant:"outlined"})]})]}),c.jsx(F,{sx:{my:1}}),c.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",mt:1},children:[c.jsxs(p,{variant:"caption",color:"text.secondary",children:["Last Run: ",new Date(e.lastRun).toLocaleDateString()]}),e.scheduleEnabled&&c.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:.5},children:[c.jsx(Oe,{fontSize:"small",color:"action"}),c.jsx(p,{variant:"caption",color:"text.secondary",children:e.scheduleFrequency.charAt(0).toUpperCase()+e.scheduleFrequency.slice(1)})]})]})]}),c.jsxs($,{children:[c.jsx(j,{size:"small",startIcon:c.jsx(H,{}),onClick:()=>alert(`Viewing report: ${e.name}`),children:"View"}),c.jsx(j,{size:"small",startIcon:c.jsx(Qe,{}),onClick:()=>oe(e.id),children:"Export"})]})]})},e.id)))})]}),c.jsx(qt,{value:e,index:1,children:c.jsxs(B,{container:!0,spacing:3,children:[t.filter((e=>e.scheduleEnabled)).map((e=>c.jsx(B,{item:!0,xs:12,md:6,children:c.jsxs(q,{sx:{p:2},children:[c.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(Oe,{color:"primary"}),c.jsx(p,{variant:"h6",children:e.name})]}),c.jsx(S,{"aria-label":"report options",onClick:a=>se(a,e.id),size:"small",children:c.jsx(qe,{})})]}),c.jsx(p,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e.description}),c.jsx(F,{sx:{my:2}}),c.jsxs(B,{container:!0,spacing:2,children:[c.jsxs(B,{item:!0,xs:6,children:[c.jsx(p,{variant:"body2",fontWeight:"bold",children:"Frequency"}),c.jsx(p,{variant:"body2",children:e.scheduleFrequency.charAt(0).toUpperCase()+e.scheduleFrequency.slice(1)})]}),c.jsxs(B,{item:!0,xs:6,children:[c.jsx(p,{variant:"body2",fontWeight:"bold",children:"Next Run"}),c.jsx(p,{variant:"body2",children:new Date((new Date).getTime()+6048e5).toLocaleDateString()})]})]}),c.jsxs(g,{sx:{mt:2},children:[c.jsx(p,{variant:"body2",fontWeight:"bold",children:"Recipients"}),c.jsx(g,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:1},children:e.recipients&&e.recipients.map(((e,a)=>c.jsx(z,{label:e,size:"small"},a)))})]}),c.jsxs(g,{sx:{mt:2,display:"flex",justifyContent:"flex-end",gap:1},children:[c.jsx(j,{size:"small",startIcon:c.jsx(Ke,{}),onClick:()=>de(e.id),children:"Manage Schedule"}),c.jsx(j,{size:"small",startIcon:c.jsx(_e,{}),onClick:()=>alert(`Report sent manually: ${e.name}`),children:"Send Now"})]})]})},e.id))),0===t.filter((e=>e.scheduleEnabled)).length&&c.jsx(B,{item:!0,xs:12,children:c.jsxs(q,{sx:{p:3,textAlign:"center"},children:[c.jsx(p,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No Scheduled Reports"}),c.jsx(p,{variant:"body1",color:"text.secondary",children:"You don't have any scheduled reports yet. You can schedule a report from the My Reports tab."})]})})]})}),c.jsx(qt,{value:e,index:2,children:c.jsxs(B,{container:!0,spacing:3,children:[c.jsx(B,{item:!0,xs:12,md:4,children:c.jsxs(q,{sx:{p:2,borderLeft:"4px solid #4caf50"},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Campaign Performance"}),c.jsx(p,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Standard campaign performance metrics with conversion tracking and ROI analysis."}),c.jsx(j,{variant:"contained",color:"primary",size:"small",onClick:()=>alert("Template 'Campaign Performance' applied"),children:"Use Template"})]})}),c.jsx(B,{item:!0,xs:12,md:4,children:c.jsxs(q,{sx:{p:2,borderLeft:"4px solid #2196f3"},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Content Engagement"}),c.jsx(p,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Content-focused metrics including engagement rate, time on page, and social shares."}),c.jsx(j,{variant:"contained",color:"primary",size:"small",onClick:()=>alert("Template 'Content Engagement' applied"),children:"Use Template"})]})}),c.jsx(B,{item:!0,xs:12,md:4,children:c.jsxs(q,{sx:{p:2,borderLeft:"4px solid #f44336"},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Executive Summary"}),c.jsx(p,{variant:"body2",color:"text.secondary",paragraph:!0,children:"High-level overview with key business metrics designed for executive stakeholders."}),c.jsx(j,{variant:"contained",color:"primary",size:"small",onClick:()=>alert("Template 'Executive Summary' applied"),children:"Use Template"})]})}),c.jsx(B,{item:!0,xs:12,md:4,children:c.jsxs(q,{sx:{p:2,borderLeft:"4px solid #ff9800"},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Social Media Dashboard"}),c.jsx(p,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Cross-platform social media metrics with audience growth and engagement tracking."}),c.jsx(j,{variant:"contained",color:"primary",size:"small",onClick:()=>alert("Template 'Social Media Dashboard' applied"),children:"Use Template"})]})}),c.jsx(B,{item:!0,xs:12,md:4,children:c.jsxs(q,{sx:{p:2,borderLeft:"4px solid #9c27b0"},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Conversion Funnel"}),c.jsx(p,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Detailed funnel analysis showing progression from awareness to conversion."}),c.jsx(j,{variant:"contained",color:"primary",size:"small",onClick:()=>alert("Template 'Conversion Funnel' applied"),children:"Use Template"})]})}),c.jsx(B,{item:!0,xs:12,md:4,children:c.jsxs(q,{sx:{p:2,borderLeft:"4px solid #607d8b"},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Campaign ROI"}),c.jsx(p,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Financial focus with cost analysis, revenue tracking, and ROI calculations."}),c.jsx(j,{variant:"contained",color:"primary",size:"small",onClick:()=>alert("Template 'Campaign ROI' applied"),children:"Use Template"})]})})]})}),c.jsxs(Ve,{anchorEl:u,open:Boolean(u),onClose:re,children:[c.jsxs(T,{onClick:()=>y&&(e=>{re(),h(!0);const a=t.find((a=>a.id===e));a&&(x(a),te(a.metrics)),o(!0)})(y),children:[c.jsx(Ne,{children:c.jsx(ze,{fontSize:"small"})}),c.jsx(Le,{children:"Edit"})]}),c.jsxs(T,{onClick:()=>y&&oe(y),children:[c.jsx(Ne,{children:c.jsx(Qe,{fontSize:"small"})}),c.jsx(Le,{children:"Export"})]}),c.jsxs(T,{onClick:()=>y&&de(y),children:[c.jsx(Ne,{children:c.jsx(Oe,{fontSize:"small"})}),c.jsx(Le,{children:"Schedule"})]}),c.jsxs(T,{onClick:()=>y&&alert(`Duplicating report: ${y}`),children:[c.jsx(Ne,{children:c.jsx(_,{fontSize:"small"})}),c.jsx(Le,{children:"Duplicate"})]}),c.jsxs(T,{onClick:()=>{return y&&(e=y,re(),f(e),void G(!0));var e},children:[c.jsx(Ne,{children:c.jsx(Ze,{fontSize:"small",color:"error"})}),c.jsx(Le,{sx:{color:"error.main"},children:"Delete"})]})]}),c.jsxs($e,{open:r,onClose:le,fullWidth:!0,maxWidth:"md",children:[c.jsx(Ee,{children:d?"Edit Report":"Create New Report"}),c.jsx(Me,{dividers:!0,children:c.jsxs(B,{container:!0,spacing:3,children:[c.jsx(B,{item:!0,xs:12,children:c.jsx(b,{label:"Report Name",fullWidth:!0,required:!0,value:m.name,onChange:e=>{x({...m,name:e.target.value})}})}),c.jsx(B,{item:!0,xs:12,children:c.jsx(b,{label:"Description",fullWidth:!0,multiline:!0,rows:2,value:m.description,onChange:e=>{x({...m,description:e.target.value})}})}),c.jsx(B,{item:!0,xs:12,md:6,children:c.jsxs(w,{fullWidth:!0,children:[c.jsx(A,{id:"report-type-label",children:"Report Type"}),c.jsx(I,{labelId:"report-type-label",id:"report-type",value:m.type,label:"Report Type",onChange:e=>{x({...m,type:e.target.value})},children:Mt.map((e=>c.jsx(T,{value:e.value,children:c.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.icon,c.jsx(p,{children:e.label})]})},e.value)))})]})}),c.jsx(B,{item:!0,xs:12,md:6,children:c.jsxs(w,{fullWidth:!0,children:[c.jsx(A,{id:"timeframe-label",children:"Time Period"}),c.jsx(I,{labelId:"timeframe-label",id:"timeframe",value:(()=>{const e=m.filters.find((e=>"timeframe"===e.name));return e?e.value:"month"})(),label:"Time Period",onChange:e=>{x({...m,filters:m.filters.map((a=>"timeframe"===a.name?{...a,value:e.target.value}:a))})},children:$t.map((e=>c.jsx(T,{value:e.value,children:e.label},e.value)))})]})}),c.jsx(B,{item:!0,xs:12,children:c.jsxs(q,{variant:"outlined",sx:{p:2},children:[c.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsx(p,{variant:"subtitle1",children:"Selected Metrics"}),c.jsx(j,{variant:"outlined",size:"small",onClick:()=>{te(m.metrics),ee(!0)},children:m.metrics.length>0?"Edit Metrics":"Add Metrics"})]}),m.metrics.length>0?c.jsx(g,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:m.metrics.map(((e,a)=>{var t;return c.jsx(z,{label:(null==(t=Ft.find((a=>a.value===e)))?void 0:t.label)||e,size:"small"},a)}))}):c.jsx(p,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:"No metrics selected. Click 'Add Metrics' to choose metrics for this report."})]})})]})}),c.jsxs(We,{children:[c.jsx(j,{onClick:le,children:"Cancel"}),c.jsx(j,{onClick:()=>{s(!0),setTimeout((()=>{if(d)i(t.map((e=>e.id===m.id?{...m,lastRun:(new Date).toISOString().split("T")[0]}:e)));else{const e={...m,id:Math.random().toString(36).substring(2,9),created:(new Date).toISOString().split("T")[0],lastRun:(new Date).toISOString().split("T")[0]};i([e,...t])}s(!1),o(!1)}),800)},variant:"contained",color:"primary",disabled:!m.name||0===m.metrics.length||n,children:n?c.jsx(R,{size:24}):d?"Update Report":"Create Report"})]})]}),c.jsxs($e,{open:C,onClose:ce,children:[c.jsx(Ee,{children:"Export Report"}),c.jsx(Me,{dividers:!0,children:c.jsxs(w,{fullWidth:!0,children:[c.jsx(A,{id:"export-format-label",children:"Export Format"}),c.jsx(I,{labelId:"export-format-label",id:"export-format",value:D,label:"Export Format",onChange:e=>{E(e.target.value)},children:Wt.map((e=>c.jsx(T,{value:e.value,children:c.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.icon,c.jsx(p,{children:e.label})]})},e.value)))})]})}),c.jsxs(We,{children:[c.jsx(j,{onClick:ce,children:"Cancel"}),c.jsx(j,{onClick:()=>{ce(),alert(`Report would be exported as ${D.toUpperCase()}`)},variant:"contained",color:"primary",startIcon:c.jsx(Qe,{}),children:"Export"})]})]}),c.jsxs($e,{open:M,onClose:he,fullWidth:!0,maxWidth:"sm",children:[c.jsx(Ee,{children:"Schedule Report"}),c.jsx(Me,{dividers:!0,children:c.jsxs(B,{container:!0,spacing:3,children:[c.jsx(B,{item:!0,xs:12,children:c.jsxs(w,{fullWidth:!0,children:[c.jsx(A,{id:"schedule-frequency-label",children:"Frequency"}),c.jsx(I,{labelId:"schedule-frequency-label",id:"schedule-frequency",value:O,label:"Frequency",onChange:e=>{Q(e.target.value)},children:Et.map((e=>c.jsx(T,{value:e.value,children:e.label},e.value)))})]})}),c.jsxs(B,{item:!0,xs:12,children:[c.jsx(p,{variant:"subtitle1",gutterBottom:!0,children:"Recipients"}),c.jsxs(g,{sx:{display:"flex",mb:2},children:[c.jsx(b,{fullWidth:!0,size:"small",placeholder:"Add email address",value:N,onChange:e=>Z(e.target.value),onKeyPress:e=>"Enter"===e.key&&me()}),c.jsx(j,{variant:"contained",onClick:me,disabled:!N.trim()||K.includes(N.trim()),sx:{ml:1},children:"Add"})]}),c.jsx(q,{variant:"outlined",sx:{p:2},children:K.length>0?c.jsx(g,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:K.map(((e,a)=>c.jsx(z,{label:e,onDelete:()=>(e=>{const a=[...K];a.splice(e,1),V(a)})(a)},a)))}):c.jsx(p,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic",textAlign:"center"},children:"No recipients added"})})]})]})}),c.jsxs(We,{children:[c.jsx(j,{onClick:he,children:"Cancel"}),c.jsx(j,{onClick:()=>{i(t.map((e=>e.id===y?{...e,scheduleEnabled:!0,scheduleFrequency:O,recipients:K}:e))),he()},variant:"contained",color:"primary",disabled:0===K.length,children:"Save Schedule"})]})]}),c.jsxs($e,{open:U,onClose:xe,children:[c.jsx(Ee,{children:"Delete Report"}),c.jsx(Me,{children:c.jsx(p,{variant:"body1",children:"Are you sure you want to delete this report? This action cannot be undone."})}),c.jsxs(We,{children:[c.jsx(j,{onClick:xe,children:"Cancel"}),c.jsx(j,{onClick:()=>{i(t.filter((e=>e.id!==y))),xe()},color:"error",variant:"contained",children:"Delete"})]})]}),c.jsxs($e,{open:Y,onClose:ue,fullWidth:!0,maxWidth:"md",children:[c.jsx(Ee,{children:"Select Metrics"}),c.jsxs(Me,{dividers:!0,children:[c.jsx(b,{fullWidth:!0,placeholder:"Search metrics...",value:ie,onChange:e=>ne(e.target.value),sx:{mb:2}}),c.jsx(p,{variant:"subtitle2",gutterBottom:!0,children:"Reach & Awareness"}),c.jsx(B,{container:!0,spacing:1,sx:{mb:2},children:ge.filter((e=>"reach"===e.category)).map((e=>c.jsx(B,{item:!0,xs:6,sm:4,children:c.jsx(FormControlLabel,{control:c.jsx(Ue,{checked:ae.includes(e.value),onChange:()=>pe(e.value)}),label:e.label})},e.value)))}),c.jsx(p,{variant:"subtitle2",gutterBottom:!0,children:"Engagement"}),c.jsx(B,{container:!0,spacing:1,sx:{mb:2},children:ge.filter((e=>"engagement"===e.category)).map((e=>c.jsx(B,{item:!0,xs:6,sm:4,children:c.jsx(FormControlLabel,{control:c.jsx(Ue,{checked:ae.includes(e.value),onChange:()=>pe(e.value)}),label:e.label})},e.value)))}),c.jsx(p,{variant:"subtitle2",gutterBottom:!0,children:"Conversion"}),c.jsx(B,{container:!0,spacing:1,sx:{mb:2},children:ge.filter((e=>"conversion"===e.category)).map((e=>c.jsx(B,{item:!0,xs:6,sm:4,children:c.jsx(FormControlLabel,{control:c.jsx(Ue,{checked:ae.includes(e.value),onChange:()=>pe(e.value)}),label:e.label})},e.value)))}),c.jsx(p,{variant:"subtitle2",gutterBottom:!0,children:"Revenue & ROI"}),c.jsx(B,{container:!0,spacing:1,children:ge.filter((e=>"revenue"===e.category)).map((e=>c.jsx(B,{item:!0,xs:6,sm:4,children:c.jsx(FormControlLabel,{control:c.jsx(Ue,{checked:ae.includes(e.value),onChange:()=>pe(e.value)}),label:e.label})},e.value)))})]}),c.jsxs(We,{children:[c.jsx(j,{onClick:ue,children:"Cancel"}),c.jsxs(j,{onClick:()=>{x({...m,metrics:ae}),ee(!1)},variant:"contained",color:"primary",disabled:0===ae.length,children:["Apply (",ae.length," selected)"]})]})]})]})}},Symbol.toStringTag,{value:"Module"})),Kt=[{id:"alert1",type:"threshold",status:"critical",metric:"conversion_rate",metricLabel:"Conversion Rate",threshold:2,value:1.2,direction:"below",timestamp:"2023-06-18T15:30:00Z",campaign:"Summer Promo 2023",description:"Conversion rate has dropped below critical threshold of 2.0%",read:!1,actionTaken:!1},{id:"alert2",type:"threshold",status:"warning",metric:"cpc",metricLabel:"Cost Per Click",threshold:1.75,value:1.92,direction:"above",timestamp:"2023-06-18T14:15:00Z",campaign:"Product Launch Campaign",description:"Cost per click has increased above warning threshold of $1.75",read:!0,actionTaken:!1},{id:"alert3",type:"anomaly",status:"warning",metric:"clicks",metricLabel:"Click Volume",expected:450,value:283,deviation:-37,timestamp:"2023-06-18T12:45:00Z",campaign:"Summer Promo 2023",description:"Unusual drop in click volume detected. Current clicks are 37% below expected level.",read:!1,actionTaken:!1},{id:"alert4",type:"threshold",status:"info",metric:"roas",metricLabel:"ROAS",threshold:3,value:3.6,direction:"above",timestamp:"2023-06-18T10:30:00Z",campaign:"Remarketing Campaign",description:"ROAS has increased above target threshold of 3.0",read:!0,actionTaken:!0},{id:"alert5",type:"anomaly",status:"critical",metric:"impressions",metricLabel:"Impressions",expected:25e3,value:12540,deviation:-50,timestamp:"2023-06-17T22:15:00Z",campaign:"Brand Awareness",description:"Critical drop in impressions detected. Current impressions are 50% below expected level.",read:!1,actionTaken:!1},{id:"alert6",type:"anomaly",status:"info",metric:"ctr",metricLabel:"CTR",expected:2.1,value:2.7,deviation:29,timestamp:"2023-06-17T20:00:00Z",campaign:"Email Retargeting",description:"Unusual increase in CTR detected. Current CTR is 29% above expected level.",read:!0,actionTaken:!0}],_t={metrics:{conversion_rate:{enabled:!0,criticalThreshold:2,warningThreshold:2.5,direction:"below"},cpc:{enabled:!0,criticalThreshold:2,warningThreshold:1.75,direction:"above"},ctr:{enabled:!0,criticalThreshold:1,warningThreshold:1.5,direction:"below"},roas:{enabled:!0,criticalThreshold:1.5,warningThreshold:2,direction:"below"},impressions:{enabled:!0,criticalThreshold:0,warningThreshold:0,direction:"anomaly_only"},clicks:{enabled:!0,criticalThreshold:0,warningThreshold:0,direction:"anomaly_only"}},anomalyDetection:!0,anomalyThreshold:30,notificationChannels:{inApp:!0,email:!0,sms:!1},emailRecipients:["marketing-team@example.com","campaign-manager@example.com"]},Vt=[{value:"impressions",label:"Impressions",category:"reach",icon:c.jsx(aa,{})},{value:"clicks",label:"Clicks",category:"reach",icon:c.jsx(H,{})},{value:"ctr",label:"Click-Through Rate",category:"reach",icon:c.jsx(ca,{})},{value:"conversion_rate",label:"Conversion Rate",category:"conversion",icon:c.jsx(ta,{})},{value:"conversions",label:"Conversions",category:"conversion",icon:c.jsx(da,{})},{value:"cpc",label:"Cost Per Click",category:"cost",icon:c.jsx(ha,{})},{value:"cpa",label:"Cost Per Acquisition",category:"cost",icon:c.jsx(ha,{})},{value:"roas",label:"Return on Ad Spend",category:"revenue",icon:c.jsx(sa,{})},{value:"revenue",label:"Revenue",category:"revenue",icon:c.jsx(ha,{})}];function Nt(e){const{children:a,value:t,index:i,...n}=e;return c.jsx("div",{role:"tabpanel",hidden:t!==i,id:`alert-tabpanel-${i}`,"aria-labelledby":`alert-tab-${i}`,...n,children:t===i&&c.jsx(g,{sx:{p:3},children:a})})}function Zt(e){return{id:`alert-tab-${e}`,"aria-controls":`alert-tabpanel-${e}`}}const Ut=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{var e,a;const{id:t}=r(),i=de(),[n,s]=l.useState(0),[o,d]=l.useState(!0),[h,m]=l.useState([]),[x,u]=l.useState(null),[v,y]=l.useState(_t),[f,C]=l.useState(!1),[k,D]=l.useState(null),[L,P]=l.useState(null),[F,$]=l.useState(!1),[E,M]=l.useState("conversion_rate"),[W,O]=l.useState("below"),[K,_]=l.useState(2),[V,N]=l.useState(!1),[Z,U]=l.useState([]),[Y,H]=l.useState("");l.useEffect((()=>{(async()=>{d(!0),await new Promise((e=>setTimeout(e,800))),m(Kt),u({id:t||"123",name:"Summer Promo 2023",status:"active",startDate:"2023-06-01",endDate:"2023-08-31",budget:25e3,metrics:{impressions:245e3,clicks:12300,ctr:5.02,conversions:1250,conversion_rate:10.16,cpc:1.35,roas:3.2}}),U(_t.emailRecipients),d(!1)})()}),[t]);const ee=e=>{m(h.filter((a=>a.id!==e)))},ae=()=>{C(!1),D(null),P(null)},te=e=>{y({...v,notificationChannels:{...v.notificationChannels,[e]:!v.notificationChannels[e]}})},ie=()=>{N(!1)},ne=()=>{Y.trim()&&!Z.includes(Y.trim())&&(U([...Z,Y.trim()]),H(""))},se=()=>{$(!1)},re=e=>{switch(e){case"critical":return c.jsx(xa,{color:"error"});case"warning":return c.jsx(ma,{color:"warning"});case"info":return c.jsx(ta,{color:"success"});default:return c.jsx(Ae,{color:"info"})}},le=e=>{switch(e){case"above":return c.jsx(sa,{});case"below":return c.jsx(ra,{});default:return c.jsx(ua,{})}};if(o)return c.jsx(g,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:c.jsx(R,{})});const oe=h.filter((e=>!e.read||!e.actionTaken)),ce=h.filter((e=>e.read&&e.actionTaken)),he=h.filter((e=>!e.read)).length;return c.jsxs(g,{sx:{flexGrow:1,p:3},children:[c.jsxs(g,{sx:{mb:3,display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",gap:2},children:[c.jsxs(g,{children:[c.jsx(p,{variant:"h4",gutterBottom:!0,children:"Performance Alerts"}),x&&c.jsxs(p,{variant:"subtitle1",color:"text.secondary",children:["Campaign: ",x.name]})]}),c.jsxs(g,{sx:{display:"flex",gap:2},children:[c.jsx(j,{variant:"outlined",startIcon:c.jsx(Ke,{}),onClick:()=>s(2),children:"Alert Settings"}),c.jsx(j,{variant:"contained",color:"primary",startIcon:c.jsx(Re,{}),onClick:()=>{$(!0)},children:"Create Alert"})]})]}),c.jsx(g,{sx:{borderBottom:1,borderColor:"divider"},children:c.jsxs(J,{value:n,onChange:(e,a)=>{s(a)},"aria-label":"alert tabs",children:[c.jsx(X,{label:c.jsxs(g,{sx:{display:"flex",alignItems:"center"},children:[c.jsx(Xe,{badgeContent:he,color:"error",sx:{mr:1},children:c.jsx(je,{})}),"Active Alerts (",oe.length,")"]}),...Zt(0)}),c.jsx(X,{label:"Resolved Alerts",...Zt(1)}),c.jsx(X,{label:"Alert Settings",...Zt(2)})]})}),c.jsx(Nt,{value:n,index:0,children:0===oe.length?c.jsxs(g,{sx:{textAlign:"center",py:5},children:[c.jsx(ea,{sx:{fontSize:48,color:"text.secondary",mb:2}}),c.jsx(p,{variant:"h6",color:"text.secondary",children:"No Active Alerts"}),c.jsx(p,{variant:"body1",color:"text.secondary",children:"All is well! There are no active alerts for this campaign."})]}):c.jsx(De,{children:oe.map((e=>c.jsx(q,{elevation:e.read?1:3,sx:{mb:2,borderLeft:`4px solid ${"critical"===e.status?i.palette.error.main:"warning"===e.status?i.palette.warning.main:i.palette.success.main}`,opacity:e.read?.8:1},children:c.jsxs(Be,{alignItems:"flex-start",secondaryAction:c.jsxs(g,{children:[c.jsx(S,{edge:"end","aria-label":"mark-read",onClick:()=>{return a=e.id,void m(h.map((e=>e.id===a?{...e,read:!0}:e)));var a},disabled:e.read,title:"Mark as read",children:c.jsx(aa,{})}),c.jsx(S,{edge:"end","aria-label":"action-taken",onClick:()=>{return a=e.id,void m(h.map((e=>e.id===a?{...e,actionTaken:!0}:e)));var a},disabled:e.actionTaken,title:"Mark action taken",color:"primary",children:c.jsx(ta,{})}),c.jsx(S,{edge:"end","aria-label":"dismiss",onClick:()=>ee(e.id),title:"Dismiss alert",color:"error",children:c.jsx(Fe,{})})]}),children:[c.jsx(ia,{children:c.jsx(na,{sx:{bgcolor:"critical"===e.status?i.palette.error.light:"warning"===e.status?i.palette.warning.light:i.palette.success.light},children:re(e.status)})}),c.jsx(Le,{primary:c.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[c.jsx(p,{variant:"subtitle1",component:"span",fontWeight:e.read?"normal":"bold",children:"threshold"===e.type?c.jsxs(c.Fragment,{children:[e.metricLabel," is ","above"===e.direction?"above":"below"," threshold"]}):c.jsxs(c.Fragment,{children:["Anomaly detected in ",e.metricLabel]})}),c.jsx(z,{label:e.status.toUpperCase(),size:"small",color:"critical"===e.status?"error":"warning"===e.status?"warning":"success"})]}),secondary:c.jsxs(c.Fragment,{children:[c.jsx(p,{variant:"body2",component:"span",sx:{display:"block",mb:1},children:e.description}),c.jsxs(g,{sx:{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap"},children:["threshold"===e.type?c.jsxs(c.Fragment,{children:[c.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:.5},children:[c.jsx(p,{variant:"caption",color:"text.secondary",children:"Current:"}),c.jsx(p,{variant:"body2",fontWeight:"bold",children:"number"==typeof e.value?e.metric.includes("rate")?`${e.value.toFixed(1)}%`:e.value.toFixed(2):e.value})]}),c.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:.5},children:[c.jsx(p,{variant:"caption",color:"text.secondary",children:"Threshold:"}),c.jsx(p,{variant:"body2",children:"number"==typeof e.threshold?e.metric.includes("rate")?`${e.threshold.toFixed(1)}%`:e.threshold.toFixed(2):e.threshold})]}),c.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:.5},children:[le(e.direction),c.jsx(p,{variant:"caption",children:"above"===e.direction?"Above threshold":"Below threshold"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:.5},children:[c.jsx(p,{variant:"caption",color:"text.secondary",children:"Current:"}),c.jsx(p,{variant:"body2",fontWeight:"bold",children:"number"==typeof e.value?e.metric.includes("rate")?`${e.value.toFixed(1)}%`:e.value.toLocaleString():e.value})]}),c.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:.5},children:[c.jsx(p,{variant:"caption",color:"text.secondary",children:"Expected:"}),c.jsx(p,{variant:"body2",children:"number"==typeof e.expected?e.metric.includes("rate")?`${e.expected.toFixed(1)}%`:e.expected.toLocaleString():e.expected})]}),c.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.deviation>0?c.jsx(sa,{color:"success"}):c.jsx(ra,{color:"error"}),c.jsxs(p,{variant:"caption",children:[e.deviation>0?"+":"",e.deviation,"% ",e.deviation>0?"increase":"decrease"]})]})]}),c.jsx(p,{variant:"caption",color:"text.secondary",children:new Date(e.timestamp).toLocaleString()})]})]})})]})},e.id)))})}),c.jsx(Nt,{value:n,index:1,children:0===ce.length?c.jsxs(g,{sx:{textAlign:"center",py:5},children:[c.jsx(p,{variant:"h6",color:"text.secondary",children:"No Resolved Alerts"}),c.jsx(p,{variant:"body1",color:"text.secondary",children:"There are no resolved alerts for this campaign yet."})]}):c.jsx(De,{children:ce.map((e=>c.jsx(q,{elevation:1,sx:{mb:2,borderLeft:`4px solid ${i.palette.success.main}`,opacity:.7},children:c.jsxs(Be,{alignItems:"flex-start",secondaryAction:c.jsx(S,{edge:"end","aria-label":"dismiss",onClick:()=>ee(e.id),children:c.jsx(Fe,{})}),children:[c.jsx(ia,{children:c.jsx(na,{sx:{bgcolor:i.palette.success.light},children:c.jsx(ta,{})})}),c.jsx(Le,{primary:c.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[c.jsx(p,{variant:"subtitle1",component:"span",children:"threshold"===e.type?c.jsxs(c.Fragment,{children:[e.metricLabel," ","above"===e.direction?"above":"below"," threshold"]}):c.jsxs(c.Fragment,{children:["Anomaly in ",e.metricLabel]})}),c.jsx(z,{label:"RESOLVED",size:"small",color:"success"})]}),secondary:c.jsxs(c.Fragment,{children:[c.jsx(p,{variant:"body2",component:"span",sx:{display:"block",mb:1},children:e.description}),c.jsx(p,{variant:"caption",color:"text.secondary",children:new Date(e.timestamp).toLocaleString()})]})})]})},e.id)))})}),c.jsx(Nt,{value:n,index:2,children:c.jsxs(B,{container:!0,spacing:3,children:[c.jsx(B,{item:!0,xs:12,md:6,children:c.jsxs(q,{sx:{p:2},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Metric Thresholds"}),c.jsx(p,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Set threshold-based alerts for key campaign metrics"}),c.jsx(De,{children:Vt.map((e=>{const a=v.metrics[e.value];return c.jsxs(Be,{secondaryAction:c.jsx(Te,{edge:"end",checked:!!a&&a.enabled,onChange:()=>(e=>{y({...v,metrics:{...v.metrics,[e]:{...v.metrics[e],enabled:!v.metrics[e].enabled}}})})(e.value)}),sx:{opacity:a&&a.enabled?1:.6,mb:1,backgroundColor:"background.paper",borderRadius:1},children:[c.jsx(ia,{children:c.jsx(na,{sx:{bgcolor:i.palette.primary.lighter},children:e.icon})}),c.jsx(Le,{primary:e.label,secondary:a?c.jsx(g,{sx:{mt:.5},children:"anomaly_only"!==a.direction?c.jsxs(g,{sx:{display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:[c.jsx(z,{size:"small",label:c.jsxs(c.Fragment,{children:["above"===a.direction?"Above":"Below"," ",a.criticalThreshold,e.value.includes("rate")?"%":""]}),color:"error",variant:"outlined"}),c.jsx(z,{size:"small",label:c.jsxs(c.Fragment,{children:["above"===a.direction?"Above":"Below"," ",a.warningThreshold,e.value.includes("rate")?"%":""]}),color:"warning",variant:"outlined"})]}):c.jsx(p,{variant:"caption",children:"Anomaly detection only"})}):"Not configured"}),c.jsx(j,{size:"small",sx:{ml:2},onClick:()=>(e=>{D(e),P(v.metrics[e]),C(!0)})(e.value),disabled:!a||!a.enabled,children:"Configure"})]},e.value)}))})]})}),c.jsx(B,{item:!0,xs:12,md:6,children:c.jsxs(B,{container:!0,spacing:3,children:[c.jsx(B,{item:!0,xs:12,children:c.jsxs(q,{sx:{p:2},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Anomaly Detection"}),c.jsx(Ie,{control:c.jsx(Te,{checked:v.anomalyDetection,onChange:()=>{y({...v,anomalyDetection:!v.anomalyDetection})}}),label:"Enable automatic anomaly detection"}),c.jsxs(g,{sx:{mt:2,opacity:v.anomalyDetection?1:.5,pointerEvents:v.anomalyDetection?"auto":"none"},children:[c.jsxs(p,{variant:"body2",gutterBottom:!0,children:["Alert when metrics deviate more than ",v.anomalyThreshold,"% from expected values"]}),c.jsx(Q,{value:v.anomalyThreshold,onChange:(e,a)=>{Array.isArray(a)||y({...v,anomalyThreshold:a})},"aria-labelledby":"anomaly-threshold-slider",valueLabelDisplay:"auto",step:5,marks:!0,min:5,max:50}),c.jsxs(g,{sx:{display:"flex",justifyContent:"space-between"},children:[c.jsx(p,{variant:"caption",color:"text.secondary",children:"More sensitive (5%)"}),c.jsx(p,{variant:"caption",color:"text.secondary",children:"Less sensitive (50%)"})]})]})]})}),c.jsx(B,{item:!0,xs:12,children:c.jsxs(q,{sx:{p:2},children:[c.jsx(p,{variant:"h6",gutterBottom:!0,children:"Notification Settings"}),c.jsxs(De,{children:[c.jsxs(Be,{children:[c.jsx(ia,{children:c.jsx(na,{children:c.jsx(Ae,{})})}),c.jsx(Le,{primary:"In-app Notifications",secondary:"Receive alerts in the application interface"}),c.jsx(Te,{edge:"end",checked:v.notificationChannels.inApp,onChange:()=>te("inApp")})]}),c.jsxs(Be,{children:[c.jsx(ia,{children:c.jsx(na,{children:c.jsx(la,{})})}),c.jsx(Le,{primary:"Email Notifications",secondary:v.emailRecipients&&v.emailRecipients.length>0?`${v.emailRecipients.length} recipients configured`:"No recipients configured"}),c.jsxs(g,{children:[c.jsx(Te,{checked:v.notificationChannels.email,onChange:()=>te("email")}),c.jsx(j,{size:"small",onClick:()=>{N(!0)},disabled:!v.notificationChannels.email,children:"Configure"})]})]}),c.jsxs(Be,{children:[c.jsx(ia,{children:c.jsx(na,{children:c.jsx(oa,{})})}),c.jsx(Le,{primary:"SMS Notifications",secondary:"Receive text message alerts for critical issues"}),c.jsx(Te,{edge:"end",checked:v.notificationChannels.sms,onChange:()=>te("sms")})]})]})]})})]})}),c.jsx(B,{item:!0,xs:12,children:c.jsx(g,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:c.jsx(j,{variant:"contained",color:"primary",onClick:()=>alert("Alert preferences saved successfully!"),children:"Save All Settings"})})})]})}),c.jsxs($e,{open:f,onClose:ae,maxWidth:"sm",fullWidth:!0,children:[c.jsxs(Ee,{children:["Configure ",null==(e=Vt.find((e=>e.value===k)))?void 0:e.label," Alerts"]}),c.jsx(Me,{dividers:!0,children:L&&c.jsxs(B,{container:!0,spacing:3,children:[c.jsx(B,{item:!0,xs:12,children:c.jsxs(w,{fullWidth:!0,children:[c.jsx(A,{id:"alert-direction-label",children:"Alert Direction"}),c.jsxs(I,{labelId:"alert-direction-label",id:"alert-direction",value:L.direction,label:"Alert Direction",onChange:e=>{k&&L&&P({...L,direction:e.target.value})},children:[c.jsx(T,{value:"above",children:"Above Threshold"}),c.jsx(T,{value:"below",children:"Below Threshold"}),c.jsx(T,{value:"anomaly_only",children:"Anomaly Detection Only"})]})]})}),"anomaly_only"!==L.direction&&c.jsxs(B,{item:!0,xs:12,children:[c.jsx(p,{variant:"subtitle2",gutterBottom:!0,children:"Alert Thresholds"}),c.jsx(g,{sx:{px:1,py:3},children:c.jsx(Q,{value:[L.warningThreshold,L.criticalThreshold],onChange:(e,a)=>{k&&L&&Array.isArray(a)&&P({...L,warningThreshold:a[0],criticalThreshold:a[1]})},valueLabelDisplay:"on","aria-labelledby":"threshold-slider",disableSwap:!0,marks:[{value:L.warningThreshold,label:c.jsx(G,{title:"Warning Threshold",children:c.jsx(z,{size:"small",label:"Warning",color:"warning"})})},{value:L.criticalThreshold,label:c.jsx(G,{title:"Critical Threshold",children:c.jsx(z,{size:"small",label:"Critical",color:"error"})})}]})}),c.jsx(p,{variant:"body2",color:"text.secondary",children:"above"===L.direction?"Alert when metric goes above thresholds":"Alert when metric falls below thresholds"})]})]})}),c.jsxs(We,{children:[c.jsx(j,{onClick:ae,children:"Cancel"}),c.jsx(j,{onClick:()=>{k&&L&&y({...v,metrics:{...v.metrics,[k]:L}}),ae()},variant:"contained",color:"primary",children:"Save Settings"})]})]}),c.jsxs($e,{open:V,onClose:ie,maxWidth:"sm",fullWidth:!0,children:[c.jsx(Ee,{children:"Email Notification Recipients"}),c.jsxs(Me,{dividers:!0,children:[c.jsxs(g,{sx:{display:"flex",mb:2},children:[c.jsx(b,{fullWidth:!0,size:"small",placeholder:"Add email address",value:Y,onChange:e=>H(e.target.value),onKeyPress:e=>"Enter"===e.key&&ne()}),c.jsx(j,{variant:"contained",onClick:ne,disabled:!Y.trim()||Z.includes(Y.trim()),sx:{ml:1},children:"Add"})]}),c.jsx(q,{variant:"outlined",sx:{p:2},children:Z.length>0?c.jsx(g,{sx:{display:"flex",flexDirection:"column",gap:1},children:Z.map(((e,a)=>c.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1,backgroundColor:a%2==0?"rgba(0,0,0,0.03)":"transparent",borderRadius:1},children:[c.jsx(p,{variant:"body2",children:e}),c.jsx(S,{size:"small",onClick:()=>(e=>{U(Z.filter((a=>a!==e)))})(e),color:"error",children:c.jsx(Fe,{fontSize:"small"})})]},a)))}):c.jsx(p,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic",textAlign:"center"},children:"No recipients added"})})]}),c.jsxs(We,{children:[c.jsx(j,{onClick:ie,children:"Cancel"}),c.jsx(j,{onClick:()=>{y({...v,emailRecipients:Z}),ie()},variant:"contained",color:"primary",children:"Save Recipients"})]})]}),c.jsxs($e,{open:F,onClose:se,maxWidth:"sm",fullWidth:!0,children:[c.jsx(Ee,{children:"Create Custom Alert"}),c.jsxs(Me,{dividers:!0,children:[c.jsxs(B,{container:!0,spacing:3,children:[c.jsx(B,{item:!0,xs:12,children:c.jsxs(w,{fullWidth:!0,children:[c.jsx(A,{id:"new-alert-metric-label",children:"Metric"}),c.jsx(I,{labelId:"new-alert-metric-label",id:"new-alert-metric",value:E,label:"Metric",onChange:e=>{M(e.target.value)},children:Vt.map((e=>c.jsx(T,{value:e.value,children:c.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.icon,c.jsx(p,{children:e.label})]})},e.value)))})]})}),c.jsx(B,{item:!0,xs:12,sm:6,children:c.jsxs(w,{fullWidth:!0,children:[c.jsx(A,{id:"new-alert-direction-label",children:"Direction"}),c.jsxs(I,{labelId:"new-alert-direction-label",id:"new-alert-direction",value:W,label:"Direction",onChange:e=>{O(e.target.value)},children:[c.jsx(T,{value:"above",children:"Above Threshold"}),c.jsx(T,{value:"below",children:"Below Threshold"})]})]})}),c.jsx(B,{item:!0,xs:12,sm:6,children:c.jsx(b,{label:"Threshold Value",type:"number",fullWidth:!0,value:K,onChange:e=>{_(parseFloat(e.target.value))},InputProps:{endAdornment:E.includes("rate")?"%":null}})})]}),c.jsxs(g,{sx:{mt:3,p:2,backgroundColor:"background.paper",borderRadius:1},children:[c.jsx(p,{variant:"subtitle2",gutterBottom:!0,children:"Current Value"}),c.jsx(p,{variant:"h5",color:"primary",children:(null==x?void 0:x.metrics)&&void 0!==x.metrics[E]?E.includes("rate")?`${x.metrics[E].toFixed(1)}%`:x.metrics[E].toLocaleString():"N/A"}),c.jsxs(g,{sx:{mt:2,display:"flex",alignItems:"center",gap:1},children:["above"===W?c.jsx(sa,{}):c.jsx(ra,{}),c.jsxs(p,{variant:"body2",children:["Alert will trigger when ",null==(a=Vt.find((e=>e.value===E)))?void 0:a.label," is ",W," ",K,E.includes("rate")?"%":""]})]})]})]}),c.jsxs(We,{children:[c.jsx(j,{onClick:se,children:"Cancel"}),c.jsx(j,{onClick:()=>{var e,a;const t={id:`alert${Math.random().toString(36).substring(2,9)}`,type:"threshold",status:"warning",metric:E,metricLabel:(null==(e=Vt.find((e=>e.value===E)))?void 0:e.label)||E,threshold:K,value:(null==x?void 0:x.metrics[E])||0,direction:W,timestamp:(new Date).toISOString(),campaign:(null==x?void 0:x.name)||"Unknown Campaign",description:`Custom alert: ${(null==(a=Vt.find((e=>e.value===E)))?void 0:a.label)||E} is ${W} threshold of ${K}`,read:!1,actionTaken:!1};m([t,...h]),se()},variant:"contained",color:"primary",children:"Create Alert"})]})]})]})}},Symbol.toStringTag,{value:"Module"}));export{xt as A,Fa as C,rt as a,pt as b,kt as c,Pt as d,Qt as e,Ut as f};
