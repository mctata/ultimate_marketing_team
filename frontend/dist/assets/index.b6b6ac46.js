import{u as e,a as t,c0 as n,c1 as r}from"./vendor.def2142b.js";import{e as a,a as s,j as i,u as o,r as l,i as d,g as c,R as x,V as h,W as p,E as m,X as u,B as g,G as f,N as j,Y as b,Z as y,_ as v,$ as _,a0 as k}from"./vendor-react.862bc4d9.js";import{s as C,f as w,a as E,b as T,w as I,d as O,p as S}from"./page-content.fe951bb6.js";import{u as A,b as R,l as L,A as P}from"./page-auth.0bd7ec1c.js";import{m as z,c as M,t as D,d as B}from"./page-brands.b39b5443.js";import{W,B as V,T as F,a as $,D as N,a_ as H,a$ as U,l as G,bd as Y,ah as q,M as X,aO as K,ay as J,aT as Q,aM as Z,E as ee,aN as te,u as ne,dw as re,dx as ae,dy as se,dz as ie,dA as oe,dB as le,dC as de,b_ as ce,dD as xe,dp as he,dE as pe,dF as me,X as ue,dG as ge,cP as fe,cn as je,dH as be,dI as ye,b4 as ve,aR as _e,aS as ke,bu as Ce,dJ as we,b5 as Ee,b6 as Te,C as Ie,aH as Oe,dK as Se,dL as Ae,dM as Re,f as Le,aB as Pe,A as ze}from"./vendor-mui.1e5c58eb.js";import{f as Me}from"./vendor-utils.787fabe2.js";import{c as De,G as Be,d as We}from"./page-analytics.7c777a5d.js";import"./vendor-charts.6105f747.js";import"./page-templates.9409aed2.js";import"./vendor-forms.a7b90226.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Ve=({anchorEl:e,open:t,onClose:n})=>{const r=a(),{notifications:o}=s((e=>e.ui));return i.jsxs(W,{anchorEl:e,open:t,onClose:n,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},PaperProps:{sx:{maxHeight:400,width:350}},children:[i.jsxs(V,{sx:{px:2,py:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[i.jsx(F,{variant:"h6",children:"Notifications"}),i.jsx($,{size:"small",onClick:()=>{r(M()),n()},children:"Clear All"})]}),i.jsx(N,{}),0===o.length?i.jsx(V,{sx:{p:2,textAlign:"center"},children:i.jsx(F,{variant:"body2",color:"text.secondary",children:"No notifications"})}):i.jsx(H,{sx:{p:0},children:o.map((e=>i.jsxs(V,{children:[i.jsx(U,{alignItems:"flex-start",sx:{bgcolor:e.read?"transparent":"action.hover","&:hover":{bgcolor:"action.hover"}},secondaryAction:!e.read&&i.jsx(G,{edge:"end",size:"small",onClick:()=>{return t=e.id,void r(z(t));var t},title:"Mark as read",children:i.jsx(Y,{fontSize:"small"})}),children:i.jsx(q,{primary:i.jsxs(V,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[i.jsx(F,{variant:"subtitle2",sx:{fontWeight:e.read?400:600,color:e.read?"text.primary":"primary.main"},children:e.type.charAt(0).toUpperCase()+e.type.slice(1)}),i.jsx(F,{variant:"caption",color:"text.secondary",children:Me(new Date(e.createdAt),"MMM d, h:mm a")})]}),secondary:e.message})}),i.jsx(N,{component:"li"})]},e.id)))})]})},Fe=({variant:e="full"})=>{const t=a(),n=o(),[r,d]=l.useState(null),c=Boolean(r),{brands:x,selectedBrand:h}=s((e=>e.brands));l.useEffect((()=>{x.length>0&&!h&&t(C(x[0].id))}),[x,h,t]);const p=l.useCallback((e=>{d(e.currentTarget)}),[]),m=l.useCallback((()=>{d(null)}),[]),u=l.useCallback((e=>{t(C(e));const r=window.location.pathname.match(/\/brand\/([^/]+)(\/.*)?/);if(r){r[1];const t=r[2]||"";n(`/brand/${e}${t}`,{replace:!0})}m()}),[t,m,n]),g=l.useCallback((()=>{n("/brands/new"),m()}),[n,m]),f=l.useMemo((()=>x.map((e=>i.jsxs(X,{onClick:()=>u(e.id),selected:(null==h?void 0:h.id)===e.id,sx:{borderLeft:(null==h?void 0:h.id)===e.id?3:0,borderColor:"primary.main",pl:(null==h?void 0:h.id)===e.id?1.7:2,backgroundColor:(null==h?void 0:h.id)===e.id?"rgba(0, 102, 204, 0.08)":"transparent",fontWeight:(null==h?void 0:h.id)===e.id?600:400},children:[i.jsx(K,{children:e.logo?i.jsx(J,{src:e.logo,alt:e.name,sx:{width:24,height:24}}):i.jsx(Q,{fontSize:"small"})}),i.jsx(q,{primary:e.name,primaryTypographyProps:{variant:"body2",fontWeight:(null==h?void 0:h.id)===e.id?600:400}})]},e.id)))),[x,null==h?void 0:h.id,u]),j=l.useMemo((()=>i.jsxs(X,{onClick:g,sx:{color:"primary.main"},children:[i.jsx(K,{children:i.jsx(Z,{fontSize:"small",color:"primary"})}),i.jsx(q,{primary:"Add New Brand",primaryTypographyProps:{variant:"body2"}})]})),[g]);return 0===x.length&&"dropdown"===e?i.jsx(V,{children:i.jsx(ee,{title:"Add Brand",children:i.jsx($,{onClick:g,size:"small","aria-label":"Add Brand",variant:"outlined",startIcon:i.jsx(Z,{fontSize:"small"}),sx:{borderRadius:"20px",color:"text.primary",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.23)":"divider"},children:"Add Brand"})})}):0===x.length?i.jsx($,{variant:"outlined",size:"small",startIcon:i.jsx(Z,{}),onClick:g,sx:{borderRadius:"20px",borderColor:"primary.main",color:"primary.main"},children:"Add Brand"}):"dropdown"===e?i.jsxs(V,{children:[i.jsx($,{id:"brand-dropdown-button","aria-controls":c?"brand-menu-dropdown":void 0,"aria-haspopup":"true","aria-expanded":c?"true":void 0,onClick:p,sx:{display:"flex",alignItems:"center",borderRadius:"20px",backgroundColor:"background.paper",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.23)":"divider",px:2,py:.5,color:"text.primary","&:hover":{backgroundColor:"action.hover"}},endIcon:i.jsx(te,{}),children:i.jsxs(V,{sx:{display:"flex",alignItems:"center"},children:[(null==h?void 0:h.logo)?i.jsx(J,{src:h.logo,alt:h.name,sx:{width:24,height:24,mr:1}}):i.jsx(Q,{fontSize:"small",sx:{mr:1}}),i.jsx(F,{variant:"body2",sx:{fontWeight:500},children:(null==h?void 0:h.name)||"Select Brand"})]})}),i.jsxs(W,{id:"brand-menu-dropdown",anchorEl:r,open:c,onClose:m,MenuListProps:{"aria-labelledby":"brand-dropdown-button"},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{elevation:3,sx:{minWidth:200,maxHeight:400,overflow:"auto",mt:1}},children:[f,i.jsx(N,{sx:{my:1}}),j]})]}):"compact"===e?i.jsx(ee,{title:(null==h?void 0:h.name)||"Select Brand",children:i.jsx(G,{onClick:p,size:"small","aria-controls":c?"brand-menu":void 0,"aria-haspopup":"menu","aria-expanded":c?"true":void 0,"aria-label":"Select brand","aria-describedby":"Currently selected brand",sx:{ml:1,border:"1px solid",borderColor:"divider",borderRadius:"50%",p:1},children:(null==h?void 0:h.logo)?i.jsx(J,{src:h.logo,alt:h.name,sx:{width:24,height:24}}):i.jsx(Q,{fontSize:"small","aria-hidden":"true"})})}):i.jsxs(V,{children:[i.jsxs($,{id:"brand-selector-button","aria-controls":c?"brand-selector-menu":void 0,"aria-haspopup":"menu","aria-expanded":c?"true":void 0,"aria-label":"Select brand","aria-describedby":"brand-selector-description",onClick:p,endIcon:i.jsx(te,{"aria-hidden":"true"}),role:"combobox",sx:{backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:"8px",py:.75,px:2,"&:hover":{backgroundColor:"action.hover"},minWidth:160,justifyContent:"space-between"},children:[i.jsx("span",{id:"brand-selector-description",style:{display:"none"},children:"Select a brand to view brand-specific content"}),i.jsxs(V,{sx:{display:"flex",alignItems:"center"},children:[(null==h?void 0:h.logo)?i.jsx(J,{src:h.logo,alt:h.name,sx:{width:24,height:24,mr:1}}):i.jsx(Q,{fontSize:"small",sx:{mr:1}}),i.jsx(F,{variant:"body2",noWrap:!0,sx:{maxWidth:120,fontWeight:500},children:(null==h?void 0:h.name)||"Select Brand"})]})]}),i.jsxs(W,{id:"brand-selector-menu",anchorEl:r,open:c,onClose:m,MenuListProps:{"aria-labelledby":"brand-selector-button",role:"listbox","aria-label":"Available brands"},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{elevation:3,sx:{minWidth:200,maxHeight:400,overflow:"auto",mt:1}},children:[i.jsx(F,{variant:"subtitle2",sx:{px:2,py:1,color:"text.secondary"},children:"Your Brands"}),f,i.jsx(N,{sx:{my:1}}),j]})]})},$e=({onDrawerToggle:t})=>{const n=ne(),r=a(),{logout:o}=A(),[d,c]=l.useState(null),[x,h]=l.useState(null),[p,m]=l.useState(!1),u=s((e=>e.auth.user)),{darkMode:g,notifications:f}=s((e=>e.ui));e(n.breakpoints.down("sm")),l.useEffect((()=>{const e=()=>{m(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}}),[]);const j=()=>{c(null)},b=f.filter((e=>!e.read)).length;return i.jsxs(i.Fragment,{children:[i.jsx(re,{position:"fixed",color:"default",elevation:0,sx:{bgcolor:"background.paper",borderBottom:"1px solid",borderColor:"divider",zIndex:e=>e.zIndex.drawer+1},children:i.jsxs(ae,{children:[i.jsx(G,{color:"inherit",edge:"start",onClick:t,sx:{mr:2},children:i.jsx(se,{})}),i.jsx(F,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"},mr:4},children:"Ultimate Marketing Team"}),i.jsxs(V,{sx:{display:"flex",alignItems:"center",ml:"auto"},children:[i.jsx(V,{sx:{mr:2},children:i.jsx(Fe,{variant:"dropdown"})}),i.jsx(ee,{title:g?"Switch to light mode":"Switch to dark mode",children:i.jsx(G,{onClick:()=>{r(D())},color:"inherit",children:g?i.jsx(ie,{}):i.jsx(oe,{})})}),i.jsx(ee,{title:p?"Exit fullscreen":"Enter fullscreen",children:i.jsx(G,{onClick:()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch((e=>{}))},color:"inherit",children:p?i.jsx(le,{}):i.jsx(de,{})})}),i.jsx(ee,{title:"Notifications",children:i.jsx(G,{onClick:e=>{h(e.currentTarget)},color:"inherit",children:i.jsx(ce,{badgeContent:b,color:"error",children:i.jsx(xe,{})})})}),i.jsx(ee,{title:"Account settings",children:i.jsx(G,{onClick:e=>{c(e.currentTarget)},color:"inherit",size:"small",sx:{ml:1},children:i.jsx(J,{sx:{width:32,height:32},alt:(null==u?void 0:u.firstName)||"User",src:"/assets/avatar.png"})})})]})]})}),i.jsxs(W,{anchorEl:d,open:Boolean(d),onClose:j,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[i.jsxs(V,{sx:{px:2,py:1},children:[i.jsx(F,{variant:"subtitle1",sx:{fontWeight:600},children:u?`${u.firstName} ${u.lastName}`:"Guest User"}),i.jsx(F,{variant:"body2",color:"text.secondary",children:(null==u?void 0:u.email)||"guest@example.com"})]}),i.jsx(X,{onClick:j,children:"Profile"}),i.jsx(X,{onClick:j,children:"My account"}),i.jsx(X,{onClick:()=>{j(),o()},children:"Logout"})]}),i.jsx(Ve,{anchorEl:x,open:Boolean(x),onClose:()=>{h(null)}})]})},Ne=l.createContext({currentBrand:null,brandId:null,isLoading:!1,error:null,allBrands:[],switchBrand:()=>{},navigateToBrandRoute:()=>{},isBrandRoute:()=>!1}),He=()=>l.useContext(Ne),Ue=({children:e})=>{const t=a(),n=o();d();const{brandId:r}=c(),{brands:x,selectedBrand:h,isLoading:p,error:m}=s((e=>e.brands)),u=e=>!["/brands","/settings","/login","/register","/auth"].some((t=>e.startsWith(t))),g=e=>{if(!u(e))return void n(e);const t=h||(x.length>0?x[0]:null);if(!t)return void n(e);let r=e;if(e.includes("/brand/")){const t=e.split("/"),n=t.indexOf("brand");if(n>=0&&n<t.length-1){r=[...t.slice(0,n),...t.slice(n+2)].join("/")}}r.startsWith("/")&&(r=r.substring(1));const a=`/brand/${t.id}/${r}`;n(a)};l.useEffect((()=>{if(r){const e=x.some((e=>e.id===r));if(e&&r!==(null==h?void 0:h.id))t(C(r));else if(!e&&x.length>0){const e=x[0].id,t=window.location.pathname.split("/"),r=t.indexOf("brand");-1!==r&&r<t.length-1?(t[r+1]=e,n(t.join("/"),{replace:!0})):n(`/brand/${e}/dashboard`,{replace:!0})}}}),[r,h,x,t,n]);const[f,j]=l.useState(!1),b=e=>{if(!x.some((t=>t.id===e)))return;j(!0),t(C(e));const r=window.location.pathname.split("/"),a=r.indexOf("brand");try{-1!==a&&a<r.length-1?(r[a+1]=e,n(r.join("/"))):n(`/brand/${e}/dashboard`)}finally{setTimeout((()=>{j(!1)}),300)}},y=l.useMemo((()=>({currentBrand:h,brandId:(null==h?void 0:h.id)||null,isLoading:p||f,error:m,allBrands:x,switchBrand:b,navigateToBrandRoute:g,isBrandRoute:u})),[h,p,f,m,x,g,u]);return i.jsx(Ne.Provider,{value:y,children:e})},Ge=[{text:"Dashboard",icon:i.jsx(ye,{}),path:"/dashboard"},{text:"Brands",icon:i.jsx(Q,{}),path:"/brands"},{text:"Content",icon:i.jsx(ve,{}),path:"/content",subItems:[{text:"Content Overview",path:"/content"},{text:"Content Library",path:"/content/library"},{text:"Content Calendar",path:"/content/calendar"},{text:"SEO Optimization",path:"/content/seo"},{text:"Templates Library",path:"/content/templates"},{text:"Template Diagnostics",path:"/content/templates/diagnostics"},{text:"Template Test Workspace",path:"/content/templates/test-workspace"},{text:"Template Admin (Admin Only)",path:"/content/templates/admin"}]},{text:"Campaigns",icon:i.jsx(_e,{}),path:"/campaigns",subItems:[{text:"Campaign List",icon:i.jsx(ke,{}),path:"/campaigns"},{text:"A/B Testing",icon:i.jsx(Ce,{}),path:"/campaigns/ab-testing"},{text:"ROI Analytics",icon:i.jsx(we,{}),path:"/campaigns/roi-analytics"}]},{text:"Analytics",icon:i.jsx(Ee,{}),path:"/analytics"},{text:"Settings",icon:i.jsx(Te,{}),path:"/settings"}];he("div")((({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(0,1),...e.mixins.toolbar,justifyContent:"flex-end"})));const Ye=({open:t,onClose:n,width:r})=>{const a=d(),c=o(),{logout:h}=A(),p=ne(),m=e(p.breakpoints.down("md")),u=s((e=>e.auth.user)),[g,f]=l.useState(null),{currentBrand:j}=He();l.useEffect((()=>{Ge.forEach((e=>{e.subItems&&e.subItems.some((e=>{const t=e.path.replace(":id","");return a.pathname.includes(t)}))&&f(e.text)}))}),[a.pathname]);const{navigateToBrandRoute:b}=He(),y=e=>{b(e),m&&n()},v=i.jsxs(i.Fragment,{children:[i.jsxs(ae,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:[1]},children:[i.jsx(V,{sx:{display:"flex",alignItems:"center",ml:1},children:i.jsx(F,{variant:"h6",component:"div",sx:{fontWeight:700,background:"linear-gradient(45deg, #0066cc 30%, #ff7961 90%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Ultimate Marketing"})}),i.jsx(G,{onClick:n,children:"rtl"===p.direction?i.jsx(pe,{}):i.jsx(me,{})})]}),i.jsx(N,{}),j&&i.jsx(V,{sx:{mt:2,px:2,mb:2},children:i.jsx(ue,{avatar:j.logo?i.jsx(J,{src:j.logo,alt:j.name}):i.jsx(Q,{}),label:j.name,variant:"outlined",color:"primary",sx:{borderRadius:"16px",height:"auto",py:.5,width:"100%",justifyContent:"flex-start","& .MuiChip-label":{display:"block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500,fontSize:"0.9rem"},borderColor:"primary.main",color:"text.primary"},onClick:()=>c(`/brands/${j.id}`)})}),i.jsx(V,{sx:{mt:2,px:2,mb:2},children:i.jsxs(V,{sx:{display:"flex",alignItems:"center"},children:[i.jsx(J,{sx:{width:40,height:40,mr:2},alt:(null==u?void 0:u.firstName)?u.firstName:"User",src:"/assets/avatar.png"}),i.jsxs(V,{children:[i.jsx(F,{variant:"subtitle1",sx:{fontWeight:600},children:u?`${u.firstName} ${u.lastName}`:"Guest User"}),i.jsx(F,{variant:"body2",color:"text.secondary",children:(null==u?void 0:u.role)||"User"})]})]})}),i.jsx(N,{}),i.jsx(H,{component:"nav",sx:{px:2,maxHeight:"calc(100vh - 250px)",overflow:"auto"},children:Ge.map((e=>i.jsxs(x.Fragment,{children:[i.jsx(U,{disablePadding:!0,sx:{display:"block",mb:.5},children:i.jsxs(ge,{onClick:e.subItems?t=>((e,t)=>{t.stopPropagation(),f(g===e?null:e)})(e.text,t):()=>y(e.path),selected:a.pathname.includes(e.path)&&"/dashboard"!==e.path,sx:{minHeight:48,justifyContent:t?"initial":"center",borderRadius:1,px:2.5,"&.Mui-selected":{backgroundColor:"primary.light",color:"primary.contrastText","& .MuiListItemIcon-root":{color:"primary.contrastText"}},"&:hover":{backgroundColor:"rgba(0, 102, 204, 0.08)"}},children:[i.jsx(K,{sx:{minWidth:0,mr:t?2:"auto",justifyContent:"center",color:a.pathname.includes(e.path)?"primary.contrastText":"inherit"},children:e.icon}),i.jsx(q,{primary:e.text,sx:{opacity:t?1:0}}),t&&e.subItems&&(g===e.text?i.jsx(fe,{fontSize:"small"}):i.jsx(je,{fontSize:"small"}))]})}),e.subItems&&t&&g===e.text&&i.jsx(V,{sx:{pl:4},children:e.subItems.map((e=>e.text&&e.text.includes("Admin")&&"admin"!==(null==u?void 0:u.role)?null:i.jsx(U,{disablePadding:!0,sx:{display:"block",mb:.5},children:i.jsxs(ge,{onClick:()=>y(e.path),selected:a.pathname.includes(e.path),sx:{minHeight:36,justifyContent:"initial",borderRadius:1,px:2,"&.Mui-selected":{backgroundColor:"primary.light",color:"primary.contrastText"},"&:hover":{backgroundColor:"rgba(0, 102, 204, 0.08)"}},children:[e.icon&&i.jsx(K,{sx:{minWidth:0,mr:1.5,fontSize:"1.25rem"},children:e.icon}),i.jsx(q,{primary:e.text,primaryTypographyProps:{fontSize:"0.875rem"}})]})},e.text)))})]},e.text)))}),i.jsx(N,{sx:{mt:2}}),i.jsx(V,{sx:{p:2,mt:"auto"},children:i.jsx(ge,{onClick:h,sx:{borderRadius:1,"&:hover":{backgroundColor:"rgba(244, 67, 54, 0.08)"}},children:i.jsx(q,{primary:"Logout"})})})]});return i.jsxs(V,{component:"nav",sx:{width:{md:t?r:0},flexShrink:{md:0}},children:[i.jsx(be,{variant:"temporary",open:t,onClose:n,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:r,boxShadow:3,overflowY:"auto"}},children:v}),i.jsx(be,{variant:"permanent",open:t,sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:t?r:0,borderRight:"1px solid rgba(0, 0, 0, 0.12)",boxShadow:"none",transition:e=>e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden",overflowY:"auto"}},children:v})]})},qe=()=>i.jsx(V,{component:"footer",sx:{py:2,px:2,mt:"auto",backgroundColor:"background.paper",borderTop:"1px solid",borderColor:"divider"},children:i.jsx(Ie,{maxWidth:"lg",children:i.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},children:[i.jsxs(F,{variant:"body2",color:"text.secondary",children:["© ",(new Date).getFullYear()," Ultimate Marketing Team. All rights reserved."]}),i.jsxs(V,{children:[i.jsx(Oe,{href:"#",color:"inherit",sx:{mx:1},children:"Privacy Policy"}),i.jsx(Oe,{href:"#",color:"inherit",sx:{mx:1},children:"Terms of Service"}),i.jsx(Oe,{href:"#",color:"inherit",sx:{mx:1},children:"Contact"})]})]})})}),Xe=(e="light",n=!1,r="normal")=>{const a={light:"#4da6ff",main:"#0066cc",dark:"#004c99",contrastText:"#fff"},s={light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#fff"},i={light:"#5cb3ff",main:"#0052cc",dark:"#00337f",contrastText:"#ffffff"},o={light:"#ff867c",main:"#d32f2f",dark:"#9a0007",contrastText:"#ffffff"},l=(()=>{switch(r){case"large":return 1.2;case"extra-large":return 1.4;default:return 1}})(),d=n?`3px solid ${i.main}`:`2px solid ${t(a.main,.5)}`,c={outline:"none",boxShadow:"none","&:focus-visible":{outline:d,outlineOffset:"2px"}};return{palette:"dark"===e?{mode:"dark",primary:n?i:a,secondary:n?o:s,background:{default:n?"#000000":"#121212",paper:n?"#121212":"#1e1e1e"},text:{primary:n?"#ffffff":"#e0e0e0",secondary:n?"#f5f5f5":"#aaaaaa"},divider:n?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.12)",error:{main:n?"#ff5252":"#f44336"},warning:{main:n?"#ffab40":"#ff9800"},info:{main:n?"#64b5f6":"#2196f3"},success:{main:n?"#69f0ae":"#4caf50"}}:{mode:"light",primary:n?i:a,secondary:n?o:s,background:{default:n?"#ffffff":"#f5f7fa",paper:"#ffffff"},text:{primary:n?"#000000":"#212121",secondary:n?"#212121":"#757575"},divider:n?"rgba(0, 0, 0, 0.2)":"rgba(0, 0, 0, 0.12)",error:{main:n?"#d50000":"#f44336"},warning:{main:n?"#ff6d00":"#ff9800"},info:{main:n?"#0066cc":"#2196f3"},success:{main:n?"#00c853":"#4caf50"}},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',fontSize:14*l,h1:{fontWeight:700,fontSize:2.5*l+"rem"},h2:{fontWeight:600,fontSize:2*l+"rem"},h3:{fontWeight:600,fontSize:1.75*l+"rem"},h4:{fontWeight:600,fontSize:1.5*l+"rem"},h5:{fontWeight:500,fontSize:1.25*l+"rem"},h6:{fontWeight:500,fontSize:1.1*l+"rem"},body1:{fontSize:1*l+"rem"},body2:{fontSize:.875*l+"rem"},button:{fontSize:.875*l+"rem",textTransform:"none"}},components:{MuiCssBaseline:{styleOverrides:{"html, body":{height:"100%"},".skip-link":{position:"absolute",top:"-40px",left:0,background:"dark"===e?"#000":"#fff",color:i.main,padding:"8px",zIndex:2e3,transition:"top 0.2s",fontWeight:"bold","&:focus":{top:0}},'a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])':{"&:focus-visible":{outline:d,outlineOffset:"2px"}}}},MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"none",fontWeight:500,...c,padding:"8px 16px",minHeight:"44px","&.Mui-disabled":{backgroundColor:"dark"===e?n?"#444":"#333":n?"#e0e0e0":"#f5f5f5",color:"dark"===e?n?"#aaa":"#777":n?"#666":"#bdbdbd"}},text:{..."dark"===e&&n?{border:"1px solid currentColor"}:{}},outlined:{"&:focus-visible":{outline:d,outlineOffset:"2px"}},contained:{color:n?"#ffffff":void 0,"&:focus-visible":{outline:"dark"===e?`2px solid ${n?"#fff":a.light}`:d,outlineOffset:"2px"}}}},MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.05)",border:n?"1px solid "+("dark"===e?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.2)"):"none"}}},MuiPaper:{styleOverrides:{root:{borderRadius:12,border:n?"1px solid "+("dark"===e?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.2)"):"none"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"dark"===e?n?"rgba(255,255,255,0.5)":"rgba(255,255,255,0.23)":n?"rgba(0,0,0,0.5)":"rgba(0,0,0,0.23)",borderWidth:n?2:1},"&:hover fieldset":{borderColor:"dark"===e?n?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.5)":n?"rgba(0,0,0,0.8)":"rgba(0,0,0,0.5)"},"&.Mui-focused fieldset":{borderColor:n?i.main:a.main,borderWidth:2}},"& .MuiInputLabel-root":{color:"dark"===e?n?"rgba(255,255,255,0.9)":"rgba(255,255,255,0.7)":n?"rgba(0,0,0,0.9)":"rgba(0,0,0,0.7)",fontSize:1*l+"rem"},"& .MuiFormHelperText-root":{color:"dark"===e?n?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.6)":n?"rgba(0,0,0,0.8)":"rgba(0,0,0,0.6)",fontSize:.75*l+"rem"}}}},MuiCheckbox:{styleOverrides:{root:{padding:"9px",color:"dark"===e?n?"rgba(255,255,255,0.9)":void 0:n?"rgba(0,0,0,0.9)":void 0,"&.Mui-checked":{color:n?i.main:void 0}}}},MuiRadio:{styleOverrides:{root:{padding:"9px",color:"dark"===e?n?"rgba(255,255,255,0.9)":void 0:n?"rgba(0,0,0,0.9)":void 0,"&.Mui-checked":{color:n?i.main:void 0}}}},MuiChip:{styleOverrides:{root:{height:32*l,...n&&{border:"1px solid "+("dark"===e?"rgba(255,255,255,0.5)":"rgba(0,0,0,0.5)")}},label:{fontSize:.75*l+"rem"}}},MuiIconButton:{styleOverrides:{root:{...c,padding:"12px",color:"dark"===e?n?"rgba(255,255,255,0.9)":void 0:n?"rgba(0,0,0,0.9)":void 0,"&:hover":{backgroundColor:"dark"===e?n?"rgba(255,255,255,0.15)":"rgba(255,255,255,0.08)":n?"rgba(0,0,0,0.15)":"rgba(0,0,0,0.04)"}}}}}}},Ke=Se(Xe("light",!1,"normal"));Se(Xe("light",!0,"normal"));const Je=Se(Xe("dark",!1,"normal"));Se(Xe("dark",!0,"normal")),Se(Xe("light",!1,"large")),Se(Xe("light",!1,"extra-large"));const Qe=()=>{const[t,n]=l.useState(!0),{darkMode:r}=s((e=>e.ui)),a=ne();e("(prefers-color-scheme: dark)");const o=e(a.breakpoints.down("md")),c=d();l.useEffect((()=>{n(!o)}),[o]),l.useEffect((()=>{o&&n(!1)}),[c.pathname,o]);const x=()=>{n(!t)},p=l.useMemo((()=>r?Je:Ke),[r]);return i.jsx(Ae,{theme:p,children:i.jsx(Ue,{children:i.jsxs(V,{sx:{display:"flex",minHeight:"100vh"},children:[i.jsx(Re,{}),i.jsx($e,{onDrawerToggle:x}),i.jsx(Ye,{open:t,onClose:x,width:280}),i.jsxs(V,{component:"main",sx:{flexGrow:1,p:0,width:"100%",overflow:"hidden",display:"flex",flexDirection:"column",transition:e=>e.transitions.create(["margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},children:[i.jsx(ae,{})," ",i.jsx(V,{sx:{minHeight:"calc(100vh - 200px)",p:{xs:2,sm:3},ml:{md:0},width:"100%",overflow:"auto",height:"calc(100vh - 64px - 56px)"},children:i.jsx(h,{})}),i.jsx(qe,{})]})]})})})},Ze=()=>i.jsxs(V,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",position:"fixed",top:0,left:0,backgroundColor:e=>"light"===e.palette.mode?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)",zIndex:9999},children:[i.jsx(Le,{size:60}),i.jsx(F,{variant:"h6",sx:{mt:2},children:"Loading..."})]}),et=({children:e})=>{const t=o(),r=d(),c=a(),{brands:x,selectedBrand:h,isLoading:p}=s((e=>e.brands)),[m,u]=l.useState(!1),g=l.useRef(0),f=l.useRef(null),j=l.useRef(!1),b=l.useRef(new Set);return l.useEffect((()=>{if(!j.current&&!p&&0===x.length){j.current=!0,c(w());(async()=>{try{const e=(await n((()=>import("./page-brands.b39b5443.js").then((e=>e.e))),["assets/page-brands.b39b5443.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-analytics.7c777a5d.js"])).default,t=await e.getBrands();c(E(t))}catch(e){c(T(e.message))}})()}}),[c,p,x.length]),l.useEffect((()=>()=>{f.current&&clearTimeout(f.current)}),[]),l.useEffect((()=>{if(r.pathname.includes("/brand/")||(b.current=new Set,g.current=0),!m&&!p&&x.length>0&&g.current<3){const n=r.pathname,a=n.includes("/brand/");if(["/brands","/brands/new","/brands/"].some((e=>n.startsWith(e))))return;if(!a&&(h||x.length>0)){u(!0),g.current++;const a=n.startsWith("/")?n.substring(1):n,s=h||x[0];let i="";if(i=`/brand/${s.id}/${a}`,b.current.has(i))return void u(!1);b.current.add(i),f.current=setTimeout((()=>{u(!1)}),3e3);try{const e=t(`${i}${r.search}`,{replace:!0});e&&"function"==typeof e.then?e.then((()=>{f.current&&clearTimeout(f.current),u(!1)})).catch((e=>{u(!1)})):(f.current&&clearTimeout(f.current),u(!1))}catch(e){u(!1)}}}}),[p,x,h,r,t,m]),i.jsx(i.Fragment,{children:e})};function tt(e){const t=x.lazy(e);return function(e){const n=x.createElement(nt);return x.createElement(x.Suspense,{fallback:n},x.createElement(t,e))}}const nt=()=>x.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"200px"}},x.createElement("div",null,"Loading...")),rt=tt((()=>n((()=>import("./Dashboard.dcc54b4c.js")),["assets/Dashboard.dcc54b4c.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js"]))),at=tt((()=>n((()=>import("./page-auth.0bd7ec1c.js").then((e=>e.L))),["assets/page-auth.0bd7ec1c.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/vendor-forms.a7b90226.js","assets/page-analytics.7c777a5d.js"]))),st=tt((()=>n((()=>import("./page-auth.0bd7ec1c.js").then((e=>e.R))),["assets/page-auth.0bd7ec1c.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/vendor-forms.a7b90226.js","assets/page-analytics.7c777a5d.js"]))),it=tt((()=>n((()=>import("./page-brands.b39b5443.js").then((e=>e.B))),["assets/page-brands.b39b5443.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-analytics.7c777a5d.js"]))),ot=tt((()=>n((()=>import("./page-brands.b39b5443.js").then((e=>e.f))),["assets/page-brands.b39b5443.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-analytics.7c777a5d.js"]))),lt=tt((()=>n((()=>import("./page-brands.b39b5443.js").then((e=>e.g))),["assets/page-brands.b39b5443.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-analytics.7c777a5d.js"]))),dt=tt((()=>n((()=>import("./page-content.fe951bb6.js").then((e=>e.h))),["assets/page-content.fe951bb6.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js","assets/page-auth.0bd7ec1c.js","assets/vendor-forms.a7b90226.js","assets/page-templates.9409aed2.js"]))),ct=tt((()=>n((()=>import("./page-content.fe951bb6.js").then((e=>e.C))),["assets/page-content.fe951bb6.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js","assets/page-auth.0bd7ec1c.js","assets/vendor-forms.a7b90226.js","assets/page-templates.9409aed2.js"]))),xt=tt((()=>n((()=>import("./page-content.fe951bb6.js").then((e=>e.e))),["assets/page-content.fe951bb6.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js","assets/page-auth.0bd7ec1c.js","assets/vendor-forms.a7b90226.js","assets/page-templates.9409aed2.js"]))),ht=tt((()=>n((()=>import("./page-content.fe951bb6.js").then((e=>e.g))),["assets/page-content.fe951bb6.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js","assets/page-auth.0bd7ec1c.js","assets/vendor-forms.a7b90226.js","assets/page-templates.9409aed2.js"]))),pt=tt((()=>n((()=>import("./page-campaigns.ff068042.js").then((e=>e.C))),["assets/page-campaigns.ff068042.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js"]))),mt=tt((()=>n((()=>import("./page-campaigns.ff068042.js").then((e=>e.a))),["assets/page-campaigns.ff068042.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js"]))),ut=tt((()=>n((()=>import("./page-campaigns.ff068042.js").then((e=>e.A))),["assets/page-campaigns.ff068042.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js"]))),gt=tt((()=>n((()=>import("./page-campaigns.ff068042.js").then((e=>e.b))),["assets/page-campaigns.ff068042.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js"]))),ft=tt((()=>n((()=>import("./page-campaigns.ff068042.js").then((e=>e.c))),["assets/page-campaigns.ff068042.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js"]))),jt=tt((()=>n((()=>import("./page-campaigns.ff068042.js").then((e=>e.d))),["assets/page-campaigns.ff068042.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js"]))),bt=tt((()=>n((()=>import("./page-campaigns.ff068042.js").then((e=>e.e))),["assets/page-campaigns.ff068042.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js"]))),yt=tt((()=>n((()=>import("./page-campaigns.ff068042.js").then((e=>e.f))),["assets/page-campaigns.ff068042.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js"]))),vt=()=>i.jsx(We,{}),_t=tt((()=>n((()=>import("./Settings.c341f433.js")),["assets/Settings.c341f433.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js"]))),kt=tt((()=>n((()=>import("./page-templates.9409aed2.js").then((e=>e.b))),["assets/page-templates.9409aed2.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-content.fe951bb6.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js","assets/page-auth.0bd7ec1c.js","assets/vendor-forms.a7b90226.js"]))),Ct=tt((()=>n((()=>import("./page-templates.9409aed2.js").then((e=>e.c))),["assets/page-templates.9409aed2.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-content.fe951bb6.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js","assets/page-auth.0bd7ec1c.js","assets/vendor-forms.a7b90226.js"]))),wt=tt((()=>n((()=>import("./page-templates.9409aed2.js").then((e=>e.A))),["assets/page-templates.9409aed2.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-content.fe951bb6.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js","assets/page-auth.0bd7ec1c.js","assets/vendor-forms.a7b90226.js"]))),Et=tt((()=>n((()=>import("./page-templates.9409aed2.js").then((e=>e.d))),["assets/page-templates.9409aed2.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-content.fe951bb6.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js","assets/page-auth.0bd7ec1c.js","assets/vendor-forms.a7b90226.js"]))),Tt=tt((()=>n((()=>import("./page-templates.9409aed2.js").then((e=>e.e))),["assets/page-templates.9409aed2.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js","assets/page-content.fe951bb6.js","assets/page-brands.b39b5443.js","assets/page-analytics.7c777a5d.js","assets/page-auth.0bd7ec1c.js","assets/vendor-forms.a7b90226.js"]))),It=tt((()=>n((()=>import("./NotFound.e0957543.js")),["assets/NotFound.e0957543.js","assets/vendor-react.862bc4d9.js","assets/vendor.def2142b.js","assets/vendor-mui.1e5c58eb.js","assets/vendor-charts.6105f747.js","assets/vendor-utils.787fabe2.js"]))),Ot=({children:e})=>{const{isAuthenticated:t,isLoading:n}=A();return n?i.jsx(Ze,{}):t?i.jsx(i.Fragment,{children:e}):i.jsx(j,{to:"/login",replace:!0})},St=({children:e})=>{const{isAuthenticated:t,isLoading:n}=A();return n?i.jsx(Ze,{}):t?i.jsx(j,{to:"/dashboard",replace:!0}):i.jsx(i.Fragment,{children:e})},At=({children:e})=>{const t=d(),n=a(),r=o(),{brands:c,selectedBrand:x}=s((e=>e.brands)),h=t.pathname.split("/"),p=h.indexOf("brand")+1,m=p>0&&h.length>p?h[p]:null;return l.useEffect((()=>{if(m&&c.some((e=>e.id===m)))x&&x.id===m||n(C(m));else if(x&&!m){let e=t.pathname;if(!e.includes("/brands")){const t=h.slice(0,2).join("/"),n=h.slice(2).join("/");e=`${t}/brand/${x.id}${n?"/"+n:""}`,r(e,{replace:!0})}}else!x&&c.length>0&&n(C(c[0].id))}),[m,c,x,n,t,r]),i.jsx(i.Fragment,{children:e})},Rt=new p({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:3e5}}});function Lt(){const{isAuthenticated:e}=A();a(),s((e=>e.brands)),l.useEffect((()=>{if(e)return I.connect(),()=>{I.disconnect()}}),[e]),l.useEffect((()=>{const e=De();return()=>e()}),[]),l.useEffect((()=>{}),[e]);const t=({provider:e})=>{const t=d(),n=o(),r=a(),[s,c]=l.useState(null);return l.useEffect((()=>{(async()=>{var a,s;try{const i=new URLSearchParams(t.search),o=i.get("code"),l=i.get("state");if(!o)throw new Error("Authentication code not found in the URL");const d=await R.handleOAuthCallback(e,o,l||void 0),c=await R.getUserProfile();r(L({user:{id:c.id,email:c.email,firstName:(null==(a=c.full_name)?void 0:a.split(" ")[0])||"",lastName:(null==(s=c.full_name)?void 0:s.split(" ").slice(1).join(" "))||"",role:c.is_superuser?"admin":"user"},token:d.access_token})),n("/dashboard")}catch(i){c(i.message||"Authentication failed"),setTimeout((()=>{n("/login")}),3e3)}})()}),[t,n,e,r]),s?i.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",padding:"20px",textAlign:"center"},children:[i.jsx("h3",{children:"Authentication Error"}),i.jsx("p",{children:s}),i.jsx("p",{children:"Redirecting to login page..."})]}):i.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column"},children:[i.jsxs("h3",{children:["Processing ",e.charAt(0).toUpperCase()+e.slice(1)," login..."]}),i.jsx("p",{children:"Please wait while we complete your authentication"})]})};return i.jsx(m,{FallbackComponent:Be,children:i.jsx(u,{client:Rt,children:i.jsxs(g,{children:[i.jsx(f,{path:"/login",element:i.jsx(St,{children:i.jsx(at,{})})}),i.jsx(f,{path:"/register",element:i.jsx(St,{children:i.jsx(st,{})})}),i.jsx(f,{path:"/auth/callback/google",element:i.jsx(t,{provider:"google"})}),i.jsx(f,{path:"/auth/callback/facebook",element:i.jsx(t,{provider:"facebook"})}),i.jsx(f,{path:"/auth/callback/linkedin",element:i.jsx(t,{provider:"linkedin"})}),i.jsxs(f,{path:"/",element:i.jsx(Ot,{children:i.jsx(Qe,{})}),children:[i.jsx(f,{index:!0,element:i.jsx(j,{to:"/dashboard",replace:!0})}),i.jsx(f,{path:"dashboard",element:i.jsx(et,{children:i.jsx(rt,{})})}),i.jsx(f,{path:"brands",element:i.jsx(it,{})}),i.jsx(f,{path:"brands/new",element:i.jsx(lt,{})}),i.jsx(f,{path:"brands/:id",element:i.jsx(ot,{})}),i.jsx(f,{path:"settings",element:i.jsx(_t,{})}),i.jsx(f,{path:"brand/:brandId/*",element:i.jsx(At,{children:i.jsxs(g,{children:[i.jsx(f,{path:"dashboard",element:i.jsx(rt,{})}),i.jsx(f,{path:"content",element:i.jsx(dt,{})}),i.jsx(f,{path:"content/library",element:i.jsx(ct,{})}),i.jsx(f,{path:"content/calendar",element:i.jsx(xt,{})}),i.jsx(f,{path:"content/templates",element:i.jsx(kt,{})}),i.jsx(f,{path:"content/templates/diagnostics",element:i.jsx(Et,{})}),i.jsx(f,{path:"content/templates/test-workspace",element:i.jsx(Tt,{})}),i.jsx(f,{path:"content/templates/admin",element:i.jsx(wt,{})}),i.jsx(f,{path:"content/templates/:id",element:i.jsx(Ct,{})}),i.jsx(f,{path:"content/templates/:id/test",element:i.jsx(Ct,{testMode:!0})}),i.jsx(f,{path:"content/templates/:id/use",element:i.jsx(Ct,{useMode:!0})}),i.jsx(f,{path:"content/:id",element:i.jsx(ht,{})}),i.jsx(f,{path:"campaigns",element:i.jsx(pt,{})}),i.jsx(f,{path:"campaigns/:id",element:i.jsx(mt,{})}),i.jsx(f,{path:"campaigns/:id/ab-testing",element:i.jsx(ut,{})}),i.jsx(f,{path:"campaigns/:id/benchmark",element:i.jsx(jt,{})}),i.jsx(f,{path:"campaigns/:id/alerts",element:i.jsx(yt,{})}),i.jsx(f,{path:"campaigns/ab-testing",element:i.jsx(gt,{})}),i.jsx(f,{path:"campaigns/roi-analytics",element:i.jsx(ft,{})}),i.jsx(f,{path:"campaigns/reports",element:i.jsx(bt,{})}),i.jsx(f,{path:"analytics",element:i.jsx(vt,{})})]})})}),i.jsx(f,{path:"content/*",element:i.jsx(et,{})}),i.jsx(f,{path:"campaigns/*",element:i.jsx(et,{})}),i.jsx(f,{path:"analytics",element:i.jsx(et,{})}),i.jsx(f,{path:"templates/*",element:i.jsx(j,{to:"/content/templates",replace:!0})})]}),i.jsx(f,{path:"*",element:i.jsx(It,{})})]})})})}const Pt=()=>{const e=a(),{toasts:t}=s((e=>e.ui)),[n,r]=x.useState(null),[o,d]=x.useState(!1);l.useEffect((()=>{t.length>0&&!n&&(r(t[0]),d(!0),e(B(t[0].id)))}),[t,n,e]);const c=(e,t)=>{"clickaway"!==t&&(d(!1),setTimeout((()=>{r(null)}),300))};if(!n)return null;return i.jsx(Pe,{open:o,autoHideDuration:n.duration||5e3,onClose:c,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:i.jsx(ze,{elevation:6,variant:"filled",onClose:c,severity:{success:"success",error:"error",warning:"warning",info:"info"}[n.type],sx:{width:"100%",minWidth:300},children:i.jsxs(V,{sx:{display:"flex",flexDirection:"column"},children:[n.title&&i.jsx(F,{variant:"subtitle2",fontWeight:"bold",children:n.title}),n.message,n.action&&i.jsx($,{color:"inherit",size:"small",onClick:()=>{var e;(null==(e=null==n?void 0:n.action)?void 0:e.callback)&&n.action.callback(),c()},sx:{alignSelf:"flex-end",mt:1},children:n.action.label})]})})},n.id)},zt=new r({defaultOptions:{queries:{refetchOnWindowFocus:!0,retry:1,staleTime:6e4,cacheTime:3e5,refetchOnMount:!0,refetchOnReconnect:!0,suspense:!1},mutations:{retry:1}}});var Mt;b.createRoot(document.getElementById("root")).render(i.jsx(x.StrictMode,{children:i.jsx(m,{FallbackComponent:Be,children:i.jsx(y,{store:O,children:i.jsx(v,{loading:null,persistor:S,children:i.jsx(_,{children:i.jsx(k,{client:zt,children:i.jsx(P,{children:i.jsxs(Ae,{theme:Ke,children:[i.jsx(Re,{}),i.jsx(Pt,{}),i.jsx(Lt,{})]})})})})})})})})),(Mt=console.log)&&n((()=>import("./web-vitals.b2c48265.js")),[]).then((({getCLS:e,getFID:t,getFCP:n,getLCP:r,getTTFB:a})=>{e(Mt),t(Mt),n(Mt),r(Mt),a(Mt)})),zt.prefetchQuery(["systemSettings"],(async()=>{try{const e=await fetch("/api/v1/system/settings");if(!e.ok)throw new Error("Failed to fetch system settings");return e.json()}catch(e){return null}}));
